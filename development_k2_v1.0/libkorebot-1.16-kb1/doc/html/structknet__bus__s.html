<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>KoreBot Library: knet_bus_s Struct Reference</title>
<link href="kteamdoxy.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>knet_bus_s Struct Reference</h1><!-- doxytag: class="knet_bus_s" --><div class="dynheader">
Collaboration diagram for knet_bus_s:</div>
<div class="dynsection">
<p><center><img src="structknet__bus__s__coll__graph.png" border="0" usemap="#knet__bus__s__coll__map" alt="Collaboration graph"></center>
<map name="knet__bus__s__coll__map">
<area shape="rect" href="structknet__dev__s.html" title="{knet_dev_s\n|+ bus\l+ order\l+ ext_addr\l+ mod_addr\l+ name\l+ usage_counter\l+ info\l+ next\l|}" alt="" coords="5,285,123,459"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#f34fd249a85379eea5b6a52ed0f088d5">exit</a> )(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#7fc50fca4a750c881cb0090ade0780a8">open</a> )(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, <a class="el" href="knet_8h.html#109ea117e80d36a8039801fe644fd29d">knet_ext_t</a> ext, <a class="el" href="knet_8h.html#058e89322c7356dad64b41b0cc19eba7">knet_mod_t</a> mod, const char *name, int argc, char *argv[])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#1108e5a5ab77542145094942f9774b30">close</a> )(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *device)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#5b6329a86987b8d7476feb2a1b90d64d">transfer</a> )(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *device, const char *write_buf, unsigned int write_len, char *read_buf, unsigned read_len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#50326df590322a2f660c34cba8f2bbd8">read</a> )(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *device, char *<a class="el" href="setco__test_8c.html#c75fce8692fd1d41a8985f6aacc4a175">buf</a>, unsigned int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#e7ca0ffdda7362253ef6e6c45ab4fdae">write</a> )(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *device, const char *<a class="el" href="setco__test_8c.html#c75fce8692fd1d41a8985f6aacc4a175">buf</a>, unsigned int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#3f677d44ce4880c97f7d989463ed8e64">devices</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#93aa23f40ea0f05ac52516130c08c847">lock</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="knet_8h.html#d4f7de6c8443763dc90706c5bb068c73">knet_bus_info_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#972302c9a29d1ec2efabe900fa2b121f">bus_info</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknet__bus__s.html#a175bea2be684190b423d372a1d03967">usage_counter</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="knet_8h-source.html#l00057">57</a> of file <a class="el" href="knet_8h-source.html">knet.h</a>.</p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="f34fd249a85379eea5b6a52ed0f088d5"></a><!-- doxytag: member="knet_bus_s::exit" ref="f34fd249a85379eea5b6a52ed0f088d5" args=")(struct knet_bus_s *bus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structknet__bus__s.html#f34fd249a85379eea5b6a52ed0f088d5">knet_bus_s::exit</a>)(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
cleanup the private data in the bus structure [OPTIONAL] 
<p>Referenced by <a class="el" href="knet_8c-source.html#l00165">knet_exit()</a>, <a class="el" href="knet__i2c_8c-source.html#l00080">knet_i2c_init()</a>, and <a class="el" href="knet__rs232_8c-source.html#l00063">knet_rs232_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7fc50fca4a750c881cb0090ade0780a8"></a><!-- doxytag: member="knet_bus_s::open" ref="7fc50fca4a750c881cb0090ade0780a8" args=")(struct knet_bus_s *bus, knet_ext_t ext, knet_mod_t mod, const char *name, int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a>*(* <a class="el" href="structknet__bus__s.html#7fc50fca4a750c881cb0090ade0780a8">knet_bus_s::open</a>)(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, <a class="el" href="knet_8h.html#109ea117e80d36a8039801fe644fd29d">knet_ext_t</a> ext, <a class="el" href="knet_8h.html#058e89322c7356dad64b41b0cc19eba7">knet_mod_t</a> mod, const char *name, int argc, char *argv[])<code> [read]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
open a device on this bus [MANDATORY] 
<p>Referenced by <a class="el" href="knet__i2c_8c-source.html#l00080">knet_i2c_init()</a>, <a class="el" href="knet_8c-source.html#l00270">knet_open()</a>, and <a class="el" href="knet__rs232_8c-source.html#l00063">knet_rs232_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1108e5a5ab77542145094942f9774b30"></a><!-- doxytag: member="knet_bus_s::close" ref="1108e5a5ab77542145094942f9774b30" args=")(struct knet_bus_s *bus, struct knet_dev_s *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structknet__bus__s.html#1108e5a5ab77542145094942f9774b30">knet_bus_s::close</a>)(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *device)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
close a device [OPTIONAL] 
<p>Referenced by <a class="el" href="knet_8c-source.html#l00435">knet_close()</a>, <a class="el" href="knet__i2c_8c-source.html#l00080">knet_i2c_init()</a>, and <a class="el" href="knet__rs232_8c-source.html#l00063">knet_rs232_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5b6329a86987b8d7476feb2a1b90d64d"></a><!-- doxytag: member="knet_bus_s::transfer" ref="5b6329a86987b8d7476feb2a1b90d64d" args=")(struct knet_bus_s *bus, struct knet_dev_s *device, const char *write_buf, unsigned int write_len, char *read_buf, unsigned read_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structknet__bus__s.html#5b6329a86987b8d7476feb2a1b90d64d">knet_bus_s::transfer</a>)(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *device, const char *write_buf, unsigned int write_len, char *read_buf, unsigned read_len)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
device transfer (write + read ) data [OPTIONAL] 
<p>Referenced by <a class="el" href="knet__i2c_8c-source.html#l00080">knet_i2c_init()</a>, <a class="el" href="knet_8c-source.html#l00604">knet_lltransfer()</a>, and <a class="el" href="knet__rs232_8c-source.html#l00063">knet_rs232_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="50326df590322a2f660c34cba8f2bbd8"></a><!-- doxytag: member="knet_bus_s::read" ref="50326df590322a2f660c34cba8f2bbd8" args=")(struct knet_bus_s *bus, struct knet_dev_s *device, char *buf, unsigned int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structknet__bus__s.html#50326df590322a2f660c34cba8f2bbd8">knet_bus_s::read</a>)(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *device, char *<a class="el" href="setco__test_8c.html#c75fce8692fd1d41a8985f6aacc4a175">buf</a>, unsigned int len)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
device read data [MANDATORY] 
<p>Referenced by <a class="el" href="knet__i2c_8c-source.html#l00080">knet_i2c_init()</a>, <a class="el" href="knet_8c-source.html#l00643">knet_llread()</a>, <a class="el" href="knet_8c-source.html#l00604">knet_lltransfer()</a>, and <a class="el" href="knet__rs232_8c-source.html#l00063">knet_rs232_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e7ca0ffdda7362253ef6e6c45ab4fdae"></a><!-- doxytag: member="knet_bus_s::write" ref="e7ca0ffdda7362253ef6e6c45ab4fdae" args=")(struct knet_bus_s *bus, struct knet_dev_s *device, const char *buf, unsigned int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structknet__bus__s.html#e7ca0ffdda7362253ef6e6c45ab4fdae">knet_bus_s::write</a>)(struct <a class="el" href="structknet__bus__s.html">knet_bus_s</a> *bus, struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a> *device, const char *<a class="el" href="setco__test_8c.html#c75fce8692fd1d41a8985f6aacc4a175">buf</a>, unsigned int len)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
device write data [MANDATORY] 
<p>Referenced by <a class="el" href="knet__i2c_8c-source.html#l00080">knet_i2c_init()</a>, <a class="el" href="knet_8c-source.html#l00604">knet_lltransfer()</a>, <a class="el" href="knet_8c-source.html#l00674">knet_llwrite()</a>, and <a class="el" href="knet__rs232_8c-source.html#l00063">knet_rs232_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3f677d44ce4880c97f7d989463ed8e64"></a><!-- doxytag: member="knet_bus_s::devices" ref="3f677d44ce4880c97f7d989463ed8e64" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structknet__dev__s.html">knet_dev_s</a>* <a class="el" href="structknet__bus__s.html#3f677d44ce4880c97f7d989463ed8e64">knet_bus_s::devices</a><code> [read]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A pointer to the head to the device list for this bus 
<p>Definition at line <a class="el" href="knet_8h-source.html#l00092">92</a> of file <a class="el" href="knet_8h-source.html">knet.h</a>.</p>

<p>Referenced by <a class="el" href="knet_8c-source.html#l00201">knet_bus_find_device()</a>, <a class="el" href="knet_8c-source.html#l00229">knet_bus_find_device_by_name()</a>, <a class="el" href="knet_8c-source.html#l00504">knet_device_create()</a>, <a class="el" href="knet_8c-source.html#l00539">knet_device_destroy()</a>, and <a class="el" href="knet_8c-source.html#l00165">knet_exit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="93aa23f40ea0f05ac52516130c08c847"></a><!-- doxytag: member="knet_bus_s::lock" ref="93aa23f40ea0f05ac52516130c08c847" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="structknet__bus__s.html#93aa23f40ea0f05ac52516130c08c847">knet_bus_s::lock</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This lock is used to be thread safe when accessing a bus 
<p>Definition at line <a class="el" href="knet_8h-source.html#l00095">95</a> of file <a class="el" href="knet_8h-source.html">knet.h</a>.</p>

<p>Referenced by <a class="el" href="knet_8c-source.html#l00435">knet_close()</a>, <a class="el" href="knet_8c-source.html#l00539">knet_device_destroy()</a>, <a class="el" href="knet__i2c_8c-source.html#l00056">knet_i2c_scan_callback()</a>, <a class="el" href="knet_8c-source.html#l00110">knet_init()</a>, <a class="el" href="knet_8c-source.html#l00643">knet_llread()</a>, <a class="el" href="knet_8c-source.html#l00604">knet_lltransfer()</a>, <a class="el" href="knet_8c-source.html#l00674">knet_llwrite()</a>, <a class="el" href="knet_8c-source.html#l00270">knet_open()</a>, and <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>.</p>

</div>
</div><p>
<a class="anchor" name="972302c9a29d1ec2efabe900fa2b121f"></a><!-- doxytag: member="knet_bus_s::bus_info" ref="972302c9a29d1ec2efabe900fa2b121f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="knet_8h.html#d4f7de6c8443763dc90706c5bb068c73">knet_bus_info_t</a> <a class="el" href="structknet__bus__s.html#972302c9a29d1ec2efabe900fa2b121f">knet_bus_s::bus_info</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This member is dedicated to the lower communication layer 
<p>Definition at line <a class="el" href="knet_8h-source.html#l00098">98</a> of file <a class="el" href="knet_8h-source.html">knet.h</a>.</p>

<p>Referenced by <a class="el" href="knet__i2c_8c-source.html#l00148">knet_i2c_exit()</a>, <a class="el" href="knet__i2c_8c-source.html#l00080">knet_i2c_init()</a>, <a class="el" href="knet__i2c_8c-source.html#l00168">knet_i2c_open()</a>, <a class="el" href="knet__i2c_8c-source.html#l00250">knet_i2c_read()</a>, <a class="el" href="knet__i2c_8c-source.html#l00223">knet_i2c_transfer()</a>, and <a class="el" href="knet__i2c_8c-source.html#l00276">knet_i2c_write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a175bea2be684190b423d372a1d03967"></a><!-- doxytag: member="knet_bus_s::usage_counter" ref="a175bea2be684190b423d372a1d03967" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structknet__bus__s.html#a175bea2be684190b423d372a1d03967">knet_bus_s::usage_counter</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="knet_8h-source.html#l00100">100</a> of file <a class="el" href="knet_8h-source.html">knet.h</a>.</p>

<p>Referenced by <a class="el" href="knet_8c-source.html#l00165">knet_exit()</a>, <a class="el" href="knet_8c-source.html#l00110">knet_init()</a>, and <a class="el" href="knet_8c-source.html#l00270">knet_open()</a>.</p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="knet_8h-source.html">knet.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 15 11:49:30 2010 for KoreBot Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
