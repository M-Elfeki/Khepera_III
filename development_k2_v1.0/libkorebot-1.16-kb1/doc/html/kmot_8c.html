<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>KoreBot Library: kmot.c File Reference</title>
<link href="kteamdoxy.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>kmot.c File Reference</h1>This module provides useful basic facilities to use a KoreMotor. <a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
Include dependency graph for kmot.c:</div>
<div class="dynsection">
<p><center><img src="kmot_8c__incl.png" border="0" usemap="#kmot.c_map" alt=""></center>
<map name="kmot.c_map">
<area shape="rect" href="korebot_8h.html" title="korebot.h" alt="" coords="1569,81,1644,105"><area shape="rect" href="kb__init_8h.html" title="kb_init.h" alt="" coords="1251,156,1320,180"><area shape="rect" href="kb__error_8h.html" title="kb_error.h" alt="" coords="1344,156,1421,180"><area shape="rect" href="kb__memory_8h.html" title="kb_memory.h" alt="" coords="1445,156,1544,180"><area shape="rect" href="kb__time_8h.html" title="kb_time.h" alt="" coords="1568,156,1645,180"><area shape="rect" href="kb__cmdparser_8h.html" title="kb_cmdparser.h" alt="" coords="1669,156,1781,180"><area shape="rect" href="kb__symbol_8h.html" title="kb_symbol.h" alt="" coords="1805,156,1901,180"><area shape="rect" href="kb__config_8h.html" title="kb_config.h" alt="" coords="1925,156,2013,180"><area shape="rect" href="kb__socket_8h.html" title="kb_socket.h" alt="" coords="549,156,640,180"><area shape="rect" href="kb__sound_8h.html" title="kb_sound.h" alt="" coords="2037,156,2125,180"><area shape="rect" href="kb__wav_8h.html" title="kb_wav.h" alt="" coords="2149,156,2224,180"><area shape="rect" href="kb__gpio_8h.html" title="kb_gpio.h" alt="" coords="2248,156,2325,180"><area shape="rect" href="kb__pwm_8h.html" title="kb_pwm.h" alt="" coords="2349,156,2429,180"><area shape="rect" href="kb__lrf_8h.html" title="kb_lrf.h" alt="" coords="2453,156,2517,180"><area shape="rect" href="kb__khepera3_8h.html" title="kb_khepera3.h" alt="" coords="2592,156,2699,180"><area shape="rect" href="knet_8h.html" title="knet.h" alt="" coords="2617,230,2673,254"><area shape="rect" href="kb__gripper_8h.html" title="kb_gripper.h" alt="" coords="2723,156,2813,180"><area shape="rect" href="kbot_8h.html" title="kbot.h" alt="" coords="2837,156,2893,180"><area shape="rect" href="kmot_8h.html" title="kmot.h" alt="" coords="2917,156,2979,180"><area shape="rect" href="hem_8h.html" title="hem.h" alt="" coords="3003,156,3059,180"><area shape="rect" href="koala_8h.html" title="koala.h" alt="" coords="3083,156,3147,180"><area shape="rect" href="koreio_8h.html" title="koreio.h" alt="" coords="3171,156,3237,180"><area shape="rect" href="ltc1663_8h.html" title="ltc1663.h" alt="" coords="3261,156,3336,180"></map>
</div>

<p>
<a href="kmot_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#cbf6960f35fee4209643a426b333470d">kmot_GetFWVersion</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, unsigned int *version)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#4a83e11a094019bc6292a1db2f6054ba">kmot_GetStatus</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, unsigned char *status, unsigned char *error)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#ec78bd45a47d6770e01b45e92e591535">kmot_GetSpeedMultiplier</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, unsigned short *mult)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#d18f9ed37580f9340c1dd7c84b1ec1bc">kmot_GetOptions</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, unsigned char *software, unsigned char *hardware)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#3572cbe8194aa03505c14c18af4257cf">kmot_ConfigurePID</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int regtype, int16_t Kp, int16_t Kd, int16_t Ki)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#2769c44a61df23ac2431ff42b3d310ac">kmot_SetPointSource</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int regtype, int wavetype, int period, int amplitude, int offset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#3d602b97e1d16d7ea91d55924d63ce8b">kmot_GetMeasure</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int regtype)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#201364c96ca8b99c60b876dd5304cef5">kmot_SetPosition</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, long <a class="el" href="koala__GoAutomation_8c.html#401e942526aac47cef94f478182486e7">position</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#5925cb8ca0bd09bfe6f7fcc0db0f5751">kmot_SetSpeedProfile</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int maxspeed, int acceleration)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#0de758adfdaff8695b5552e9b5c36093">kmot_SetMinSpeed</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int minspeed)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#640f712ee3c3f98595253900a8307bf4">kmot_SetLimits</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int regtype, long softStopMin, long softStopMax)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#f4c10f7b0edd895cbb4f4801fd903ba1">kmot_SearchLimits</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int8_t blockedTime, int32_t setPoint, int32_t *minpos, int32_t *maxpos, unsigned int timeout)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#09acf0f6551f3ce2d0e1e004c6d93a78">kmot_SetOptions</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int hwOptions, int swOptions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#5b523ed785415485c769a4d96c461bd8">kmot_SetPoint</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int regtype, long setPoint)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#08a1450618bc115340f9f4d1aa638c1d">kmot_SaveConfig</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#088875a24e27c208ae36e1d8ebeb3b02">kmot_ResetError</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#c0aa7b1cc7f7d27ab59ccabaf99f6cdc">kmot_SetBlockedTime</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int time)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#69b8a5df8c8184690cf1fa3808331ad3">kmot_SetSampleTime</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int sample)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#5ef9cb8e1cb15f324f08ea618494823e">kmot_SetFilterOrder</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int order)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#ec0c9179543605623c7c3625bf39abb5">kmot_SetMode</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#effefd11a85d0691a7d18ca1de71001d">kmot_SetPrescale</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#12cc3601a0afa765a89efdf1545905ec">kmot_SetSpeedMultiplier</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#fb305bccd3b81370326e4a8046850c2b">kmot_SetVelocityPrescale</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmot_8c.html#29f05e1f99a020b2843f105e854f213d">kmot_SetMargin</a> (<a class="el" href="structknet__dev__s.html">knet_dev_t</a> *dev, int margin)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This module provides useful basic facilities to use a KoreMotor. 
<p>
Support for the KoreMotor board.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Alexandre Colot (K-Team SA) <p>
Pierre Bureau (K-Team SA) <p>
Yves Piguet (Calerga) <p>
Cédric Gaudin (K-Team SA)</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Copyright (C) 2004 K-TEAM SA </dd></dl>
<dl compact><dt><b><a class="el" href="bug.html#_bug000017">Bug:</a></b></dt><dd>none discovered. </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000018">Todo:</a></b></dt><dd>nothing. </dd></dl>

<p>Definition in file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="3572cbe8194aa03505c14c18af4257cf"></a><!-- doxytag: member="kmot.c::kmot_ConfigurePID" ref="3572cbe8194aa03505c14c18af4257cf" args="(knet_dev_t *dev, int regtype, int16_t Kp, int16_t Kd, int16_t Ki)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_ConfigurePID           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>regtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>Kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>Ki</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function configures the PID controller using a given regulation mode. Please refer to the kMotRegType Definition<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>regtype</em>&nbsp;</td><td>Type of regulation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Kp</em>&nbsp;</td><td>PID Proportional Constant </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Kd</em>&nbsp;</td><td>PID Differential Constant </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Ki</em>&nbsp;</td><td>PID Integral Constant </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00241">241</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="kmot_8h-source.html#l00172">kMotRegPos</a>, <a class="el" href="kmot_8h-source.html#l00173">kMotRegPosProfile</a>, <a class="el" href="kmot_8h-source.html#l00174">kMotRegSpeed</a>, <a class="el" href="kmot_8h-source.html#l00175">kMotRegSpeedProfile</a>, <a class="el" href="kmot_8h-source.html#l00177">kMotRegTorque</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="knet_8c-source.html#l01012">knet_write16()</a>, <a class="el" href="kmot_8h-source.html#l00125">MOT_KdPosL</a>, <a class="el" href="kmot_8h-source.html#l00076">MOT_KdSpeedL</a>, <a class="el" href="kmot_8h-source.html#l00134">MOT_KdTorqueL</a>, <a class="el" href="kmot_8h-source.html#l00128">MOT_KiPosL</a>, <a class="el" href="kmot_8h-source.html#l00079">MOT_KiSpeedL</a>, <a class="el" href="kmot_8h-source.html#l00137">MOT_KiTorqueL</a>, <a class="el" href="kmot_8h-source.html#l00122">MOT_KpPosL</a>, <a class="el" href="kmot_8h-source.html#l00073">MOT_KpSpeedL</a>, and <a class="el" href="kmot_8h-source.html#l00131">MOT_KpTorqueL</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00106">kmot_ipConfigPID()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, <a class="el" href="KBR_8c-source.html#l00217">main()</a>, and <a class="el" href="kmot__test_8c-source.html#l00099">setpid()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_3572cbe8194aa03505c14c18af4257cf_cgraph.png" border="0" usemap="#kmot_8c_3572cbe8194aa03505c14c18af4257cf_cgraph_map" alt=""></center>
<map name="kmot_8c_3572cbe8194aa03505c14c18af4257cf_cgraph_map">
<area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="191,6,297,30"><area shape="rect" href="knet_8c.html#c9175d7244c00278b58b83398e6cbec3" title="knet_write16" alt="" coords="197,54,291,78"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="348,54,433,78"></map>
</div>

</div>
</div><p>
<a class="anchor" name="cbf6960f35fee4209643a426b333470d"></a><!-- doxytag: member="kmot.c::kmot_GetFWVersion" ref="cbf6960f35fee4209643a426b333470d" args="(knet_dev_t *dev, unsigned int *version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_GetFWVersion           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function get the firmware version and revision number.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor to the corresponding motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>version</em>&nbsp;</td><td>A pointer to a variable that will receive the firmware version number. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00102">102</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00760">knet_read8()</a>, and <a class="el" href="kmot_8h-source.html#l00033">MOT_FWVersion</a>.</p>

<p>Referenced by <a class="el" href="kmot__ipserver_8c-source.html#l00043">kmot_ipFirmware()</a>, <a class="el" href="k3__monitor_8c-source.html#l00027">main()</a>, and <a class="el" href="khepera3__test_8c-source.html#l00229">revisionOS()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_cbf6960f35fee4209643a426b333470d_cgraph.png" border="0" usemap="#kmot_8c_cbf6960f35fee4209643a426b333470d_cgraph_map" alt=""></center>
<map name="kmot_8c_cbf6960f35fee4209643a426b333470d_cgraph_map">
<area shape="rect" href="knet_8c.html#d5d0333b6dd8438307e51850a7af26be" title="knet_read8" alt="" coords="195,6,280,30"><area shape="rect" href="knet_8c.html#92df29c6cbda9a8b70febbf726148dc6" title="knet_lltransfer" alt="" coords="328,6,432,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="3d602b97e1d16d7ea91d55924d63ce8b"></a><!-- doxytag: member="kmot.c::kmot_GetMeasure" ref="3d602b97e1d16d7ea91d55924d63ce8b" args="(knet_dev_t *dev, int regtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long kmot_GetMeasure           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>regtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function read a measure from a given motor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>regtype</em>&nbsp;</td><td>Type of regulation </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the measured position or torque depending on the type of regulation </dd></dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00316">316</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="kmot_8h-source.html#l00171">kMotRegOpenLoop</a>, <a class="el" href="kmot_8h-source.html#l00172">kMotRegPos</a>, <a class="el" href="kmot_8h-source.html#l00173">kMotRegPosProfile</a>, <a class="el" href="kmot_8h-source.html#l00174">kMotRegSpeed</a>, <a class="el" href="kmot_8h-source.html#l00175">kMotRegSpeedProfile</a>, <a class="el" href="kmot_8h-source.html#l00177">kMotRegTorque</a>, <a class="el" href="knet_8c-source.html#l00792">knet_read16()</a>, <a class="el" href="knet_8c-source.html#l00861">knet_read32()</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="kmot_8h-source.html#l00050">MOT_PositionLL</a>, <a class="el" href="kmot_8h-source.html#l00055">MOT_SpeedLL</a>, and <a class="el" href="kmot_8h-source.html#l00066">MOT_TorqueL</a>.</p>

<p>Referenced by <a class="el" href="khepera3__test_8c-source.html#l00396">braitenbergAvoidance()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00169">kmot_ipMeasure()</a>, <a class="el" href="kmot__test_8c-source.html#l00142">kmot_log_task()</a>, <a class="el" href="KBR_8c-source.html#l00093">left()</a>, <a class="el" href="k3__monitor_8c-source.html#l00027">main()</a>, <a class="el" href="kmot__test_8c-source.html#l00425">measure()</a>, <a class="el" href="KBR_8c-source.html#l00070">right()</a>, and <a class="el" href="kmot__test_8c-source.html#l00444">test()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_3d602b97e1d16d7ea91d55924d63ce8b_cgraph.png" border="0" usemap="#kmot_8c_3d602b97e1d16d7ea91d55924d63ce8b_cgraph_map" alt=""></center>
<map name="kmot_8c_3d602b97e1d16d7ea91d55924d63ce8b_cgraph_map">
<area shape="rect" href="knet_8c.html#b1b2716718bfa0fa4f44c3ba1f0961b4" title="knet_read16" alt="" coords="191,6,281,30"><area shape="rect" href="knet_8c.html#44208ab588a0e926659f4877fc87a714" title="knet_read32" alt="" coords="191,54,281,78"><area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="183,102,289,126"><area shape="rect" href="knet_8c.html#92df29c6cbda9a8b70febbf726148dc6" title="knet_lltransfer" alt="" coords="339,30,443,54"></map>
</div>

</div>
</div><p>
<a class="anchor" name="d18f9ed37580f9340c1dd7c84b1ec1bc"></a><!-- doxytag: member="kmot.c::kmot_GetOptions" ref="d18f9ed37580f9340c1dd7c84b1ec1bc" args="(knet_dev_t *dev, unsigned char *software, unsigned char *hardware)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_GetOptions           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>software</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>hardware</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function gets the software options and hardware options.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>software</em>&nbsp;</td><td>Software Options </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hardware</em>&nbsp;</td><td>Hardware Options</td></tr>
  </table>
</dl>
Software Options:<p>
<ul>
<li>bit 0 : Use alternate algorithm PID derivation. The derivate part is calculated using the process variable rather than the error</li><li>bit 1 : Activate the anti reset windup routine</li><li>bit 2 : Stop the motor if the min position is reached</li><li>bit 3 : Stop the motor if the max position is reached</li><li>bit 4 : Generate an error when position is out of limits, in this case the error must be re- seted before any further commands can be executed.</li><li>bit 5 : Stop the motor if the blocked condition is met</li><li>bit 6 : Activate software current limitation (Not implemented)</li><li>bit 7 : Invert the motor direction</li></ul>
<p>
Hardware Options:<p>
<ul>
<li>bit 0 : Startup mode (0 = idle mode, 1 = control mode)</li><li>bit 1 : Use analog input for setpoint (Not Implemented)</li><li>bit 2 : Not Implemented</li><li>bit 3 : Resolution for the encoder (0 = 100%, 1 = 25%)</li><li>bit 4 : Invert the internal current measurement</li><li>bit 5 : Not Implemented</li><li>bit 6 : Not Implemented</li><li>bit 7 : Not Implemented </li></ul>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00218">218</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00760">knet_read8()</a>, <a class="el" href="kmot_8h-source.html#l00037">MOT_HWOptions</a>, and <a class="el" href="kmot_8h-source.html#l00038">MOT_SWOptions</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00507">option()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_d18f9ed37580f9340c1dd7c84b1ec1bc_cgraph.png" border="0" usemap="#kmot_8c_d18f9ed37580f9340c1dd7c84b1ec1bc_cgraph_map" alt=""></center>
<map name="kmot_8c_d18f9ed37580f9340c1dd7c84b1ec1bc_cgraph_map">
<area shape="rect" href="knet_8c.html#d5d0333b6dd8438307e51850a7af26be" title="knet_read8" alt="" coords="179,6,264,30"><area shape="rect" href="knet_8c.html#92df29c6cbda9a8b70febbf726148dc6" title="knet_lltransfer" alt="" coords="312,6,416,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ec78bd45a47d6770e01b45e92e591535"></a><!-- doxytag: member="kmot.c::kmot_GetSpeedMultiplier" ref="ec78bd45a47d6770e01b45e92e591535" args="(knet_dev_t *dev, unsigned short *mult)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_GetSpeedMultiplier           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&nbsp;</td>
          <td class="paramname"> <em>mult</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function gets the pid speed multiplier. 
<p>Definition at line <a class="el" href="kmot_8c-source.html#l00158">158</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00760">knet_read8()</a>, <a class="el" href="kmot_8h-source.html#l00146">MOT_SpeedMultH</a>, and <a class="el" href="kmot_8h-source.html#l00145">MOT_SpeedMultL</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00334">multiplier()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_ec78bd45a47d6770e01b45e92e591535_cgraph.png" border="0" usemap="#kmot_8c_ec78bd45a47d6770e01b45e92e591535_cgraph_map" alt=""></center>
<map name="kmot_8c_ec78bd45a47d6770e01b45e92e591535_cgraph_map">
<area shape="rect" href="knet_8c.html#d5d0333b6dd8438307e51850a7af26be" title="knet_read8" alt="" coords="221,6,307,30"><area shape="rect" href="knet_8c.html#92df29c6cbda9a8b70febbf726148dc6" title="knet_lltransfer" alt="" coords="355,6,459,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="4a83e11a094019bc6292a1db2f6054ba"></a><!-- doxytag: member="kmot.c::kmot_GetStatus" ref="4a83e11a094019bc6292a1db2f6054ba" args="(knet_dev_t *dev, unsigned char *status, unsigned char *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_GetStatus           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function gets the status flags and error flags.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Status Flags </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>Error Flags</td></tr>
  </table>
</dl>
Error Flags:<p>
<ul>
<li>bit 0 : Sample time too small</li><li>bit 1 : Watchdog timer overflow</li><li>bit 2 : Brown-out</li><li>bit 3 : Software stoped motor (if softstop enabled)</li><li>bit 4 : Motor blocked (if motorblock enabled)</li><li>bit 5 : Position out of range</li><li>bit 6 : Speed out of range</li><li>bit 7 : Torque out of range</li></ul>
<p>
Status flags:<p>
<ul>
<li>bit 0 : Movement detected</li><li>bit 1 : Direction 0=negative 1=positive</li><li>bit 2 : On setpoint</li><li>bit 3 : Near setpoint</li><li>bit 4 : Command saturated</li><li>bit 5 : Antireset windup active</li><li>bit 6 : Software current control active</li><li>bit 7 : Softstop active </li></ul>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00141">141</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00760">knet_read8()</a>, <a class="el" href="kmot_8h-source.html#l00040">MOT_ErrorFlags</a>, and <a class="el" href="kmot_8h-source.html#l00041">MOT_StatusFlags</a>.</p>

<p>Referenced by <a class="el" href="kmot__ipserver_8c-source.html#l00074">kmot_ipStatus()</a>, <a class="el" href="k3__monitor_8c-source.html#l00027">main()</a>, and <a class="el" href="kmot__test_8c-source.html#l00556">status()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_4a83e11a094019bc6292a1db2f6054ba_cgraph.png" border="0" usemap="#kmot_8c_4a83e11a094019bc6292a1db2f6054ba_cgraph_map" alt=""></center>
<map name="kmot_8c_4a83e11a094019bc6292a1db2f6054ba_cgraph_map">
<area shape="rect" href="knet_8c.html#d5d0333b6dd8438307e51850a7af26be" title="knet_read8" alt="" coords="171,6,256,30"><area shape="rect" href="knet_8c.html#92df29c6cbda9a8b70febbf726148dc6" title="knet_lltransfer" alt="" coords="304,6,408,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="088875a24e27c208ae36e1d8ebeb3b02"></a><!-- doxytag: member="kmot.c::kmot_ResetError" ref="088875a24e27c208ae36e1d8ebeb3b02" args="(knet_dev_t *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_ResetError           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function resets the error register for the given motor, all controls are disabled while any error is active.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00623">623</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, and <a class="el" href="kmot_8h-source.html#l00040">MOT_ErrorFlags</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00201">kmot_ipResetError()</a>, <a class="el" href="koala__demo_8c-source.html#l00065">koa_init_task()</a>, <a class="el" href="KBR_8c-source.html#l00217">main()</a>, and <a class="el" href="kmot__test_8c-source.html#l00482">statusclear()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_088875a24e27c208ae36e1d8ebeb3b02_cgraph.png" border="0" usemap="#kmot_8c_088875a24e27c208ae36e1d8ebeb3b02_cgraph_map" alt=""></center>
<map name="kmot_8c_088875a24e27c208ae36e1d8ebeb3b02_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="173,6,261,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="311,6,396,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="08a1450618bc115340f9f4d1aa638c1d"></a><!-- doxytag: member="kmot.c::kmot_SaveConfig" ref="08a1450618bc115340f9f4d1aa638c1d" args="(knet_dev_t *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SaveConfig           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function saves the current configuration for the given motor to the controller EEPROM. This EEPROM keeps the configuration even if the controller is switch off.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00609">609</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00162">kMotModeSaveE2PROM</a>, <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, and <a class="el" href="kmot_8h-source.html#l00035">MOT_Mode</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_08a1450618bc115340f9f4d1aa638c1d_cgraph.png" border="0" usemap="#kmot_8c_08a1450618bc115340f9f4d1aa638c1d_cgraph_map" alt=""></center>
<map name="kmot_8c_08a1450618bc115340f9f4d1aa638c1d_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="179,6,267,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="316,6,401,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="f4c10f7b0edd895cbb4f4801fd903ba1"></a><!-- doxytag: member="kmot.c::kmot_SearchLimits" ref="f4c10f7b0edd895cbb4f4801fd903ba1" args="(knet_dev_t *dev, int8_t blockedTime, int32_t setPoint, int32_t *minpos, int32_t *maxpos, unsigned int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kmot_SearchLimits           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&nbsp;</td>
          <td class="paramname"> <em>blockedTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>setPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&nbsp;</td>
          <td class="paramname"> <em>minpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&nbsp;</td>
          <td class="paramname"> <em>maxpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function searches the system mechanical limits.<p>
The blocked time can adjust the test sensitivity and the current limit used for blocked detection is the one set with kmot_SetLimits. The given speed is used to perform the test. The min and max positions are retruned with the minpos and maxpos parameters. The speed regulator must be properly configured before calling the search limit routine. This function is blocking and will not return until the search cycle is completed or until the number of given retry has been reached.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>blockedTime</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>setPoint</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minpos</em>&nbsp;</td><td>Minimal mechanical position </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxpos</em>&nbsp;</td><td>Maximal mechanical position </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Timeout value in milli-seconds </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A value:<ul>
<li>-1 on timeout</li><li>0 on success </li></ul>
</dd></dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00474">474</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kb__time_8c-source.html#l00040">kb_getTime()</a>, <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="kmot_8h-source.html#l00163">kMotModeSearchLimit</a>, <a class="el" href="knet_8c-source.html#l01195">knet_read()</a>, <a class="el" href="knet_8c-source.html#l00861">knet_read32()</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="knet_8c-source.html#l01090">knet_write32()</a>, <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, <a class="el" href="kmot_8h-source.html#l00085">MOT_BlockedTime</a>, <a class="el" href="kmot_8h-source.html#l00039">MOT_ControlTyp</a>, <a class="el" href="kmot_8h-source.html#l00035">MOT_Mode</a>, <a class="el" href="kmot_8h-source.html#l00043">MOT_SetPointLL</a>, <a class="el" href="kmot_8h-source.html#l00095">MOT_SoftStopMaxLL</a>, and <a class="el" href="kmot_8h-source.html#l00090">MOT_SoftStopMinLL</a>.</p>

<p>Referenced by <a class="el" href="koala__demo_8c-source.html#l00065">koa_init_task()</a>, and <a class="el" href="kmot__pantilt_8c-source.html#l00068">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_f4c10f7b0edd895cbb4f4801fd903ba1_cgraph.png" border="0" usemap="#kmot_8c_f4c10f7b0edd895cbb4f4801fd903ba1_cgraph_map" alt=""></center>
<map name="kmot_8c_f4c10f7b0edd895cbb4f4801fd903ba1_cgraph_map">
<area shape="rect" href="kb__time_8c.html#1d96883ed49195c36ef5740dcce2f590" title="kb_getTime" alt="" coords="197,5,285,29"><area shape="rect" href="knet_8c.html#1060218c799b6632a29673d8db6fc3bd" title="knet_read" alt="" coords="203,53,280,77"><area shape="rect" href="knet_8c.html#44208ab588a0e926659f4877fc87a714" title="knet_read32" alt="" coords="345,102,436,126"><area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="188,152,295,176"><area shape="rect" href="knet_8c.html#3a92cbf71c673423ef324c9190f932cd" title="knet_write32" alt="" coords="195,200,288,224"><area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="197,248,285,272"><area shape="rect" href="knet_8c.html#d5d0333b6dd8438307e51850a7af26be" title="knet_read8" alt="" coords="348,54,433,78"><area shape="rect" href="knet_8c.html#92df29c6cbda9a8b70febbf726148dc6" title="knet_lltransfer" alt="" coords="485,78,589,102"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="348,224,433,248"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c0aa7b1cc7f7d27ab59ccabaf99f6cdc"></a><!-- doxytag: member="kmot.c::kmot_SetBlockedTime" ref="c0aa7b1cc7f7d27ab59ccabaf99f6cdc" args="(knet_dev_t *dev, int time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetBlockedTime           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kmot_SetBlockedTime -<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>time</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00635">635</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, and <a class="el" href="kmot_8h-source.html#l00085">MOT_BlockedTime</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, <a class="el" href="koala__demo_8c-source.html#l00065">koa_init_task()</a>, and <a class="el" href="KBR_8c-source.html#l00217">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_c0aa7b1cc7f7d27ab59ccabaf99f6cdc_cgraph.png" border="0" usemap="#kmot_8c_c0aa7b1cc7f7d27ab59ccabaf99f6cdc_cgraph_map" alt=""></center>
<map name="kmot_8c_c0aa7b1cc7f7d27ab59ccabaf99f6cdc_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="208,6,296,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="345,6,431,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="5ef9cb8e1cb15f324f08ea618494823e"></a><!-- doxytag: member="kmot.c::kmot_SetFilterOrder" ref="5ef9cb8e1cb15f324f08ea618494823e" args="(knet_dev_t *dev, int order)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetFilterOrder           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>order</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kmot_SetFilterOrder -<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>KNet Device Descriptor corresponding to the motor e </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>order</em>&nbsp;</td><td>didastelmotor_getVersion( 1  , &amp;version ); </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00662">662</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, and <a class="el" href="kmot_8h-source.html#l00048">MOT_Filter</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_5ef9cb8e1cb15f324f08ea618494823e_cgraph.png" border="0" usemap="#kmot_8c_5ef9cb8e1cb15f324f08ea618494823e_cgraph_map" alt=""></center>
<map name="kmot_8c_5ef9cb8e1cb15f324f08ea618494823e_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="192,6,280,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="329,6,415,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="640f712ee3c3f98595253900a8307bf4"></a><!-- doxytag: member="kmot.c::kmot_SetLimits" ref="640f712ee3c3f98595253900a8307bf4" args="(knet_dev_t *dev, int regtype, long softStopMin, long softStopMax)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetLimits           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>regtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>softStopMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>softStopMax</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function sets the limits for the given regulation.<p>
The exact behavior when a measure reaches a limit depends on the controller options.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>regtype</em>&nbsp;</td><td>Type of regulation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>softStopMin</em>&nbsp;</td><td>Minimal Software Stop Value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>softStopMax</em>&nbsp;</td><td>Maximal Software Stop Value </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00424">424</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="kmot_8h-source.html#l00172">kMotRegPos</a>, <a class="el" href="kmot_8h-source.html#l00173">kMotRegPosProfile</a>, <a class="el" href="kmot_8h-source.html#l00177">kMotRegTorque</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="knet_8c-source.html#l01012">knet_write16()</a>, <a class="el" href="knet_8c-source.html#l01090">knet_write32()</a>, <a class="el" href="kmot_8h-source.html#l00095">MOT_SoftStopMaxLL</a>, <a class="el" href="kmot_8h-source.html#l00090">MOT_SoftStopMinLL</a>, and <a class="el" href="kmot_8h-source.html#l00108">MOT_SWCurrentLimitL</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, and <a class="el" href="KBR_8c-source.html#l00217">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_640f712ee3c3f98595253900a8307bf4_cgraph.png" border="0" usemap="#kmot_8c_640f712ee3c3f98595253900a8307bf4_cgraph_map" alt=""></center>
<map name="kmot_8c_640f712ee3c3f98595253900a8307bf4_cgraph_map">
<area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="167,6,273,30"><area shape="rect" href="knet_8c.html#c9175d7244c00278b58b83398e6cbec3" title="knet_write16" alt="" coords="173,54,267,78"><area shape="rect" href="knet_8c.html#3a92cbf71c673423ef324c9190f932cd" title="knet_write32" alt="" coords="173,102,267,126"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="324,78,409,102"></map>
</div>

</div>
</div><p>
<a class="anchor" name="29f05e1f99a020b2843f105e854f213d"></a><!-- doxytag: member="kmot.c::kmot_SetMargin" ref="29f05e1f99a020b2843f105e854f213d" args="(knet_dev_t *dev, int margin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetMargin           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>margin</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kmot_SetMargin -<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>KNet Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>margin</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00742">742</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, and <a class="el" href="kmot_8h-source.html#l00120">MOT_NearTargetMargin</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, and <a class="el" href="KBR_8c-source.html#l00217">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_29f05e1f99a020b2843f105e854f213d_cgraph.png" border="0" usemap="#kmot_8c_29f05e1f99a020b2843f105e854f213d_cgraph_map" alt=""></center>
<map name="kmot_8c_29f05e1f99a020b2843f105e854f213d_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="171,6,259,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="308,6,393,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="0de758adfdaff8695b5552e9b5c36093"></a><!-- doxytag: member="kmot.c::kmot_SetMinSpeed" ref="0de758adfdaff8695b5552e9b5c36093" args="(knet_dev_t *dev, int minspeed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetMinSpeed           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>minspeed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function sets the minimum speed for the tapezoidal profile<p>
The trapezoidal speed profile start with this minimal value to avoid a too low speed value that the PID won't be able to regulate.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minspeed</em>&nbsp;</td><td>Minimal speed to start the trapeze </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00402">402</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="knet_8c-source.html#l01012">knet_write16()</a>, and <a class="el" href="kmot_8h-source.html#l00117">MOT_MinSpeedL</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_0de758adfdaff8695b5552e9b5c36093_cgraph.png" border="0" usemap="#kmot_8c_0de758adfdaff8695b5552e9b5c36093_cgraph_map" alt=""></center>
<map name="kmot_8c_0de758adfdaff8695b5552e9b5c36093_cgraph_map">
<area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="191,6,297,30"><area shape="rect" href="knet_8c.html#c9175d7244c00278b58b83398e6cbec3" title="knet_write16" alt="" coords="197,54,291,78"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="348,54,433,78"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ec0c9179543605623c7c3625bf39abb5"></a><!-- doxytag: member="kmot.c::kmot_SetMode" ref="ec0c9179543605623c7c3625bf39abb5" args="(knet_dev_t *dev, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetMode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kmot_SetMode -<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>KNet Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00674">674</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, and <a class="el" href="kmot_8h-source.html#l00035">MOT_Mode</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, <a class="el" href="KBR_8c-source.html#l00093">left()</a>, <a class="el" href="KBR_8c-source.html#l00152">left2()</a>, <a class="el" href="KBR_8c-source.html#l00125">left3()</a>, <a class="el" href="KBR_8c-source.html#l00217">main()</a>, <a class="el" href="khepera3__test_8c-source.html#l00372">motStop()</a>, <a class="el" href="KBR_8c-source.html#l00070">right()</a>, <a class="el" href="KBR_8c-source.html#l00136">right2()</a>, <a class="el" href="KBR_8c-source.html#l00109">right3()</a>, and <a class="el" href="KBR_8c-source.html#l00059">stop()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_ec0c9179543605623c7c3625bf39abb5_cgraph.png" border="0" usemap="#kmot_8c_ec0c9179543605623c7c3625bf39abb5_cgraph_map" alt=""></center>
<map name="kmot_8c_ec0c9179543605623c7c3625bf39abb5_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="163,6,251,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="300,6,385,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="09acf0f6551f3ce2d0e1e004c6d93a78"></a><!-- doxytag: member="kmot.c::kmot_SetOptions" ref="09acf0f6551f3ce2d0e1e004c6d93a78" args="(knet_dev_t *dev, int hwOptions, int swOptions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetOptions           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hwOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>swOptions</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function sets the options for the given controller. Each SW and HW option parameters is a OR field of option flags.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor to the corresponding motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hwOptions</em>&nbsp;</td><td>Hardware Option Flags </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>swOptions</em>&nbsp;</td><td>Software Option Flags</td></tr>
  </table>
</dl>
Software Option Flags:<p>
<ul>
<li>kMotSWOptSepD : use alternate algorithm PID derivation</li><li>kMotSWOptWindup : activate the anti reset windup routine</li><li>kMotSWOptSoftStopMin : stop the motor if the min position is reached</li><li>kMotSWOptSoftStopMax : stop the motor if the max position is reached</li><li>kMotSwOptStopErr : generate an error when position is out of limits in this case the error must be rested before any further commands can be executed</li><li>kMotSWOptStopMotorBlk : stop the motor if the blocked condition is met (No movement, and current over the limit for the blocked time period).</li><li>kMotSWOptCurrentCtrl : activate software current limitation (Not implemented)</li><li>kMotSWOptDirectionInv : invert the motor direction</li></ul>
<p>
Hardware Option Flags:<p>
<ul>
<li>kMotHWOptIdle : Idle Startup Mode</li><li>kMotHWOptNormal : Normal Control Startup Mode</li><li>kMotHWOptAnSetPtInEn : use analog input for setpoint (Not Implemented)</li><li>kMotHWOptLed : Not Implemented</li><li>kMotHWOptEncRes4x : 4x 100% resolution for the encoder</li><li>kMotHWOptEncRes1x : 1x 25% resolution for the encoder</li><li>kMotHWOptTorqueInv : invert the internal current measurement</li><li>kMotHWOptDriverOpt1 : Not Implemented</li><li>kMotHWOptDriverOpt2 : Not Implemented</li><li>kMotHWOptDriverOpt3 : Not Implemented </li></ul>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00555">555</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, <a class="el" href="kmot_8h-source.html#l00037">MOT_HWOptions</a>, and <a class="el" href="kmot_8h-source.html#l00038">MOT_SWOptions</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, <a class="el" href="k3__monitor_8c-source.html#l00027">main()</a>, and <a class="el" href="kmot__test_8c-source.html#l00492">setoption()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_09acf0f6551f3ce2d0e1e004c6d93a78_cgraph.png" border="0" usemap="#kmot_8c_09acf0f6551f3ce2d0e1e004c6d93a78_cgraph_map" alt=""></center>
<map name="kmot_8c_09acf0f6551f3ce2d0e1e004c6d93a78_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="176,6,264,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="313,6,399,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="5b523ed785415485c769a4d96c461bd8"></a><!-- doxytag: member="kmot.c::kmot_SetPoint" ref="5b523ed785415485c769a4d96c461bd8" args="(knet_dev_t *dev, int regtype, long setPoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetPoint           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>regtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>setPoint</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function sets a given target point for a given motor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>regtype</em>&nbsp;</td><td>Type of regulation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>setPoint</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00569">569</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="kmot_8h-source.html#l00158">kMotModeNormal</a>, <a class="el" href="kmot_8h-source.html#l00197">kMotPtSrcExtI2C</a>, <a class="el" href="knet_8c-source.html#l01195">knet_read()</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="knet_8c-source.html#l01090">knet_write32()</a>, <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, <a class="el" href="kmot_8h-source.html#l00039">MOT_ControlTyp</a>, <a class="el" href="kmot_8h-source.html#l00035">MOT_Mode</a>, <a class="el" href="kmot_8h-source.html#l00043">MOT_SetPointLL</a>, and <a class="el" href="kmot_8h-source.html#l00036">MOT_SetPointSource</a>.</p>

<p>Referenced by <a class="el" href="khepera3__test_8c-source.html#l00396">braitenbergAvoidance()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00263">kmot_ipSetPos()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00232">kmot_ipSetSpeed()</a>, <a class="el" href="koala__demo_8c-source.html#l00157">koa_net_bothcam()</a>, <a class="el" href="koala__demo_8c-source.html#l00100">koa_net_camera()</a>, <a class="el" href="koala__demo_8c-source.html#l00131">koa_net_camera2()</a>, <a class="el" href="KBR_8c-source.html#l00093">left()</a>, <a class="el" href="KBR_8c-source.html#l00152">left2()</a>, <a class="el" href="KBR_8c-source.html#l00125">left3()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00068">main()</a>, <a class="el" href="khepera3__test_8c-source.html#l00355">motMove()</a>, <a class="el" href="khepera3__test_8c-source.html#l00336">motSpeed()</a>, <a class="el" href="kmot__test_8c-source.html#l00392">moveat()</a>, <a class="el" href="kmot__test_8c-source.html#l00410">moveatprofile()</a>, <a class="el" href="kmot__test_8c-source.html#l00363">openloop()</a>, <a class="el" href="KBR_8c-source.html#l00070">right()</a>, <a class="el" href="KBR_8c-source.html#l00136">right2()</a>, <a class="el" href="KBR_8c-source.html#l00109">right3()</a>, <a class="el" href="kmot__test_8c-source.html#l00252">setspeed()</a>, <a class="el" href="kmot__test_8c-source.html#l00268">setspeedprofile()</a>, <a class="el" href="kmot__test_8c-source.html#l00349">settorque()</a>, and <a class="el" href="KBR_8c-source.html#l00170">test()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_5b523ed785415485c769a4d96c461bd8_cgraph.png" border="0" usemap="#kmot_8c_5b523ed785415485c769a4d96c461bd8_cgraph_map" alt=""></center>
<map name="kmot_8c_5b523ed785415485c769a4d96c461bd8_cgraph_map">
<area shape="rect" href="knet_8c.html#1060218c799b6632a29673d8db6fc3bd" title="knet_read" alt="" coords="179,6,256,30"><area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="164,54,271,78"><area shape="rect" href="knet_8c.html#3a92cbf71c673423ef324c9190f932cd" title="knet_write32" alt="" coords="171,102,264,126"><area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="173,150,261,174"><area shape="rect" href="knet_8c.html#d5d0333b6dd8438307e51850a7af26be" title="knet_read8" alt="" coords="321,6,407,30"><area shape="rect" href="knet_8c.html#92df29c6cbda9a8b70febbf726148dc6" title="knet_lltransfer" alt="" coords="456,6,560,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="321,126,407,150"></map>
</div>

</div>
</div><p>
<a class="anchor" name="2769c44a61df23ac2431ff42b3d310ac"></a><!-- doxytag: member="kmot.c::kmot_SetPointSource" ref="2769c44a61df23ac2431ff42b3d310ac" args="(knet_dev_t *dev, int regtype, int wavetype, int period, int amplitude, int offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetPointSource           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>regtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wavetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>amplitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function selects a source for the target point. Usually the setpoint is given by the application with knet commnands, on some cases, an internal signal generator can provide a variable setpoint.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>regtype</em>&nbsp;</td><td>Type of regluation. See kMotRegType </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wavetype</em>&nbsp;</td><td>Target Point Source. See kMotPointSource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>period</em>&nbsp;</td><td>Period [0..255] </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amplitude</em>&nbsp;</td><td>Amplitude [0..255] </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Offset [-128..127] </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00292">292</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, <a class="el" href="kmot_8h-source.html#l00039">MOT_ControlTyp</a>, <a class="el" href="kmot_8h-source.html#l00087">MOT_IntGenAmplitude</a>, <a class="el" href="kmot_8h-source.html#l00088">MOT_IntGenOffset</a>, <a class="el" href="kmot_8h-source.html#l00086">MOT_IntGenPeriod</a>, <a class="el" href="kmot_8h-source.html#l00035">MOT_Mode</a>, and <a class="el" href="kmot_8h-source.html#l00036">MOT_SetPointSource</a>.</p>

<p>Referenced by <a class="el" href="kmot__ipserver_8c-source.html#l00137">kmot_ipSetPointSource()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_2769c44a61df23ac2431ff42b3d310ac_cgraph.png" border="0" usemap="#kmot_8c_2769c44a61df23ac2431ff42b3d310ac_cgraph_map" alt=""></center>
<map name="kmot_8c_2769c44a61df23ac2431ff42b3d310ac_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="203,6,291,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="340,6,425,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="201364c96ca8b99c60b876dd5304cef5"></a><!-- doxytag: member="kmot.c::kmot_SetPosition" ref="201364c96ca8b99c60b876dd5304cef5" args="(knet_dev_t *dev, long position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetPosition           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function sets the position counter to the given value for a given motor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>New position value </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00365">365</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="knet_8c-source.html#l01090">knet_write32()</a>, and <a class="el" href="kmot_8h-source.html#l00050">MOT_PositionLL</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00378">setpos()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_201364c96ca8b99c60b876dd5304cef5_cgraph.png" border="0" usemap="#kmot_8c_201364c96ca8b99c60b876dd5304cef5_cgraph_map" alt=""></center>
<map name="kmot_8c_201364c96ca8b99c60b876dd5304cef5_cgraph_map">
<area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="180,6,287,30"><area shape="rect" href="knet_8c.html#3a92cbf71c673423ef324c9190f932cd" title="knet_write32" alt="" coords="187,54,280,78"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="337,54,423,78"></map>
</div>

</div>
</div><p>
<a class="anchor" name="effefd11a85d0691a7d18ca1de71001d"></a><!-- doxytag: member="kmot.c::kmot_SetPrescale" ref="effefd11a85d0691a7d18ca1de71001d" args="(knet_dev_t *dev, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetPrescale           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kmot_SetPrescale -<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>KNet Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prescale</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00687">687</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, and <a class="el" href="kmot_8h-source.html#l00143">MOT_Prescale</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00305">prescaler()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_effefd11a85d0691a7d18ca1de71001d_cgraph.png" border="0" usemap="#kmot_8c_effefd11a85d0691a7d18ca1de71001d_cgraph_map" alt=""></center>
<map name="kmot_8c_effefd11a85d0691a7d18ca1de71001d_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="181,6,269,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="319,6,404,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="69b8a5df8c8184690cf1fa3808331ad3"></a><!-- doxytag: member="kmot.c::kmot_SetSampleTime" ref="69b8a5df8c8184690cf1fa3808331ad3" args="(knet_dev_t *dev, int sample)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetSampleTime           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sample</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kmot_SetSampleTime -<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sample</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00647">647</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, <a class="el" href="kmot_8h-source.html#l00083">MOT_SampleTimeH</a>, and <a class="el" href="kmot_8h-source.html#l00082">MOT_SampleTimeL</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, <a class="el" href="KBR_8c-source.html#l00217">main()</a>, and <a class="el" href="kmot__test_8c-source.html#l00068">setsampletime()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_69b8a5df8c8184690cf1fa3808331ad3_cgraph.png" border="0" usemap="#kmot_8c_69b8a5df8c8184690cf1fa3808331ad3_cgraph_map" alt=""></center>
<map name="kmot_8c_69b8a5df8c8184690cf1fa3808331ad3_cgraph_map">
<area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="207,6,313,30"><area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="216,54,304,78"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="364,54,449,78"></map>
</div>

</div>
</div><p>
<a class="anchor" name="12cc3601a0afa765a89efdf1545905ec"></a><!-- doxytag: member="kmot.c::kmot_SetSpeedMultiplier" ref="12cc3601a0afa765a89efdf1545905ec" args="(knet_dev_t *dev, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetSpeedMultiplier           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kmot_SetSpeedMultiplier -<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>KNet Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prescale</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00700">700</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, <a class="el" href="kmot_8h-source.html#l00146">MOT_SpeedMultH</a>, and <a class="el" href="kmot_8h-source.html#l00145">MOT_SpeedMultL</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00319">setmultiplier()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_12cc3601a0afa765a89efdf1545905ec_cgraph.png" border="0" usemap="#kmot_8c_12cc3601a0afa765a89efdf1545905ec_cgraph_map" alt=""></center>
<map name="kmot_8c_12cc3601a0afa765a89efdf1545905ec_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="221,6,309,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="359,6,444,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="5925cb8ca0bd09bfe6f7fcc0db0f5751"></a><!-- doxytag: member="kmot.c::kmot_SetSpeedProfile" ref="5925cb8ca0bd09bfe6f7fcc0db0f5751" args="(knet_dev_t *dev, int maxspeed, int acceleration)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetSpeedProfile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxspeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>acceleration</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function sets the profile for position regulation.<p>
The trapezoidal speed profile is calculated using the acceleration until the maxspeed is reached. -acceleration is used to decelerate until target position is reached.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>K-Net Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxspeed</em>&nbsp;</td><td>Maximal speed to reach </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acceleration</em>&nbsp;</td><td>Acceleration </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00383">383</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="kmot_8h-source.html#l00027">KMOT_ORDER_MASK</a>, <a class="el" href="knet_8c-source.html#l00482">knet_set_order()</a>, <a class="el" href="knet_8c-source.html#l01012">knet_write16()</a>, <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, <a class="el" href="kmot_8h-source.html#l00100">MOT_Acceleration</a>, and <a class="el" href="kmot_8h-source.html#l00140">MOT_MaxSpeedL</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00082">configspeedprofile()</a>, <a class="el" href="kmot__test_8c-source.html#l00227">init()</a>, <a class="el" href="khepera3__test_8c-source.html#l00039">initMot()</a>, <a class="el" href="kmot__pantilt_8c-source.html#l00029">InitMotor()</a>, <a class="el" href="kmot__ipserver_8c-source.html#l00296">kmot_ipInitMotor()</a>, and <a class="el" href="KBR_8c-source.html#l00217">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_5925cb8ca0bd09bfe6f7fcc0db0f5751_cgraph.png" border="0" usemap="#kmot_8c_5925cb8ca0bd09bfe6f7fcc0db0f5751_cgraph_map" alt=""></center>
<map name="kmot_8c_5925cb8ca0bd09bfe6f7fcc0db0f5751_cgraph_map">
<area shape="rect" href="knet_8c.html#598780b62adade010f48342fdd2feefb" title="knet_set_order" alt="" coords="207,6,313,30"><area shape="rect" href="knet_8c.html#c9175d7244c00278b58b83398e6cbec3" title="knet_write16" alt="" coords="213,54,307,78"><area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="216,102,304,126"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="364,78,449,102"></map>
</div>

</div>
</div><p>
<a class="anchor" name="fb305bccd3b81370326e4a8046850c2b"></a><!-- doxytag: member="kmot.c::kmot_SetVelocityPrescale" ref="fb305bccd3b81370326e4a8046850c2b" args="(knet_dev_t *dev, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmot_SetVelocityPrescale           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknet__dev__s.html">knet_dev_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kmot_SetVelocityPrescale -<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>KNet Device Descriptor corresponding to the motor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prescale</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="kmot_8c-source.html#l00730">730</a> of file <a class="el" href="kmot_8c-source.html">kmot.c</a>.</p>

<p>References <a class="el" href="knet_8c-source.html#l00980">knet_write8()</a>, and <a class="el" href="kmot_8h-source.html#l00149">MOT_VelocityPrescaler</a>.</p>

<p>Referenced by <a class="el" href="kmot__test_8c-source.html#l00291">velprescaler()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kmot_8c_fb305bccd3b81370326e4a8046850c2b_cgraph.png" border="0" usemap="#kmot_8c_fb305bccd3b81370326e4a8046850c2b_cgraph_map" alt=""></center>
<map name="kmot_8c_fb305bccd3b81370326e4a8046850c2b_cgraph_map">
<area shape="rect" href="knet_8c.html#dc6fa8c32875470f89a4a4c6aa60b503" title="knet_write8" alt="" coords="229,6,317,30"><area shape="rect" href="knet_8c.html#8c383097f8fef553088f53e073b4c9e1" title="knet_llwrite" alt="" coords="367,6,452,30"></map>
</div>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 15 11:49:29 2010 for KoreBot Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
