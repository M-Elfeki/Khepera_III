<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>KoreBot Library: kb_config.c File Reference</title>
<link href="kteamdoxy.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>kb_config.c File Reference</h1>This module reads, parses and store the information contained in the configuration files. <a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
Include dependency graph for kb_config.c:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c__incl.png" border="0" usemap="#kb_config.c_map" alt=""></center>
<map name="kb_config.c_map">
<area shape="rect" href="korebot_8h.html" title="korebot.h" alt="" coords="1569,81,1644,105"><area shape="rect" href="kb__init_8h.html" title="kb_init.h" alt="" coords="1251,156,1320,180"><area shape="rect" href="kb__error_8h.html" title="kb_error.h" alt="" coords="1344,156,1421,180"><area shape="rect" href="kb__memory_8h.html" title="kb_memory.h" alt="" coords="1445,156,1544,180"><area shape="rect" href="kb__time_8h.html" title="kb_time.h" alt="" coords="1568,156,1645,180"><area shape="rect" href="kb__cmdparser_8h.html" title="kb_cmdparser.h" alt="" coords="1669,156,1781,180"><area shape="rect" href="kb__symbol_8h.html" title="kb_symbol.h" alt="" coords="1805,156,1901,180"><area shape="rect" href="kb__config_8h.html" title="kb_config.h" alt="" coords="1925,156,2013,180"><area shape="rect" href="kb__socket_8h.html" title="kb_socket.h" alt="" coords="549,156,640,180"><area shape="rect" href="kb__sound_8h.html" title="kb_sound.h" alt="" coords="2037,156,2125,180"><area shape="rect" href="kb__wav_8h.html" title="kb_wav.h" alt="" coords="2149,156,2224,180"><area shape="rect" href="kb__gpio_8h.html" title="kb_gpio.h" alt="" coords="2248,156,2325,180"><area shape="rect" href="kb__pwm_8h.html" title="kb_pwm.h" alt="" coords="2349,156,2429,180"><area shape="rect" href="kb__lrf_8h.html" title="kb_lrf.h" alt="" coords="2453,156,2517,180"><area shape="rect" href="kb__khepera3_8h.html" title="kb_khepera3.h" alt="" coords="2592,156,2699,180"><area shape="rect" href="knet_8h.html" title="knet.h" alt="" coords="2617,230,2673,254"><area shape="rect" href="kb__gripper_8h.html" title="kb_gripper.h" alt="" coords="2723,156,2813,180"><area shape="rect" href="kbot_8h.html" title="kbot.h" alt="" coords="2837,156,2893,180"><area shape="rect" href="kmot_8h.html" title="kmot.h" alt="" coords="2917,156,2979,180"><area shape="rect" href="hem_8h.html" title="hem.h" alt="" coords="3003,156,3059,180"><area shape="rect" href="koala_8h.html" title="koala.h" alt="" coords="3083,156,3147,180"><area shape="rect" href="koreio_8h.html" title="koreio.h" alt="" coords="3171,156,3237,180"><area shape="rect" href="ltc1663_8h.html" title="ltc1663.h" alt="" coords="3261,156,3336,180"></map>
</div>

<p>
<a href="kb__config_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#a7810b7e6d3887cdc2a80cf4a68b011d">kb_is_valid_ientifier</a> (const char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#8cce096c96023cdf8eb1c086bd2210b5">kb_config_error</a> (const char *file, unsigned int line, const char *func, unsigned int error, va_list argptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#1759b5f15f8f4f0a5bff1d8c9cc962d0">kb_parse_section</a> (int argc, char *argv[], void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#1c324fac9a04e25ba28f4df0a943c329">kb_parse_modbus</a> (int argc, char *argv[], void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#de168df79043c3cf99d3ad5114823738">kb_parse_modbusaddr</a> (int argc, char *argv[], void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#1bf9c972ab6f95dce441937cb0efc1c2">kb_parse_alias</a> (int argc, char *argv[], void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#7db7fe87ad095f7192b10c79a4f3899b">kb_parse_device</a> (int argc, char *argv[], void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#80b825867d566011f04c6b994422f7d8">kb_parse_register</a> (int argc, char *argv[], void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#37d877a60e61f05a022144e615073a24">kb_config_init</a> (int argc, char *argv[])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#926246be81a30dc96c00c5894ee89eda">kb_config_exit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structkb__device__config__s.html">kb_device_config_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#0b27917fe2598af359acfa8feb9cf919">kb_lookup_device</a> (const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structkb__register__config__s.html">kb_register_config_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#13601ca6cb2dc1d8185d21b302b4f495">kb_lookup_register</a> (const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#2b849be50ad017cde4f283c6973f20e9">kb_is_valid_identifier</a> (const char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#a3f5d9dde0c0ec4981d09d0d81d27dde">kb_build_scoped_name</a> (char *scoped_name, const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#eae8d52f8fbbb3f6f4f4b6c2fc39aaf0">kb_parse_config_file</a> (const char *file)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#ae6f1bf4b9bf00062a1ff6eab4146ee2">kb_enum_section</a> (int(*func)(const char *name, <a class="el" href="structkb__section__config__s.html">kb_section_config_t</a> *section, void *context), void *context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#b67033aaa740979e3380c128d6d76ed4">kb_enum_alias</a> (const char *section_name, int(*func)(const char *name, <a class="el" href="structkb__alias__config__s.html">kb_alias_config_t</a> *alias, void *context), void *context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#2992e68691eb7ec02bbf2c2728b5b969">kb_enum_device</a> (const char *section_name, int(*func)(const char *name, <a class="el" href="structkb__device__config__s.html">kb_device_config_t</a> *device, void *context), void *context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#7e7f72cccd4c5e11678e04eb9295fac0">kb_enum_register</a> (const char *section_name, int(*func)(const char *name, <a class="el" href="structkb__register__config__s.html">kb_register_config_t</a> *reg, void *context), void *context)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static struct <a class="el" href="structkb__command__s.html">kb_command_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#7927d3e9d5132d3597d8f1c06bc2a63b">kb_config_cmds</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#d2c00eab0a2a6653dd72575ed231707a">device_class_names</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structkb__table__s.html">kb_symbol_table_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#47d801e69c80eea303b0f194d02aaa4e">kb_config_table</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structkb__symbol__s.html">kb_symbol_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#b7edb82782cdffe999f621162bb2684b">kb_sections</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structkb__symbol__s.html">kb_symbol_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#d4336a3cda0cafb279407fea044528f8">kb_config_scope</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#592cdab7911944bba395c80e86e1fbfb">kb_config_file</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kb__config_8c.html#bacd0289c2ad50c270429cbc01e1c3a4">kb_config_line</a> = 0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This module reads, parses and store the information contained in the configuration files. 
<p>
Configuration Handling<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Cédric Gaudin (K-Team SA) </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Copyright (C) 2004 K-TEAM SA </dd></dl>
<dl compact><dt><b><a class="el" href="bug.html#_bug000004">Bug:</a></b></dt><dd>none discovered. </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>nothing. </dd></dl>

<p>Definition in file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a3f5d9dde0c0ec4981d09d0d81d27dde"></a><!-- doxytag: member="kb_config.c::kb_build_scoped_name" ref="a3f5d9dde0c0ec4981d09d0d81d27dde" args="(char *scoped_name, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* kb_build_scoped_name           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>scoped_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The function builds a symbol name using the current scope.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>scoped_name</em>&nbsp;</td><td>Pointer to the buffer that will receive the scoped name. If a NULL value is specified, the internal buffer is used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Pointer to the name to scope</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to the buffer</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is not exported outside this module. </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00263">263</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__symbol_8h-source.html#l00022">KB_SYMBOL_NAME_SIZE</a>, and <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>.</p>

<p>Referenced by <a class="el" href="kb__config_8c-source.html#l00458">kb_parse_alias()</a>, <a class="el" href="kb__config_8c-source.html#l00535">kb_parse_device()</a>, and <a class="el" href="kb__config_8c-source.html#l00766">kb_parse_register()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8cce096c96023cdf8eb1c086bd2210b5"></a><!-- doxytag: member="kb_config.c::kb_config_error" ref="8cce096c96023cdf8eb1c086bd2210b5" args="(const char *file, unsigned int line, const char *func, unsigned int error, va_list argptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void kb_config_error           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&nbsp;</td>
          <td class="paramname"> <em>argptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is the error handler of the configuration file parser<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>A string containing the name of the file where the error has occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>line</em>&nbsp;</td><td>Line number where the error has occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>A string containing the name of the function where the error has occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>the code of the error </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argptr</em>&nbsp;</td><td>optional arguments</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is NOT exported outside this module. </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00293">293</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__config_8c-source.html#l00065">kb_config_file</a>, <a class="el" href="kb__config_8c-source.html#l00066">kb_config_line</a>, and <a class="el" href="kb__error_8c-source.html#l00241">kb_verror()</a>.</p>

<p>Referenced by <a class="el" href="kb__config_8c-source.html#l00836">kb_parse_config_file()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_8cce096c96023cdf8eb1c086bd2210b5_cgraph.png" border="0" usemap="#kb__config_8c_8cce096c96023cdf8eb1c086bd2210b5_cgraph_map" alt=""></center>
<map name="kb__config_8c_8cce096c96023cdf8eb1c086bd2210b5_cgraph_map">
<area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="167,6,241,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="926246be81a30dc96c00c5894ee89eda"></a><!-- doxytag: member="kb_config.c::kb_config_exit" ref="926246be81a30dc96c00c5894ee89eda" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kb_config_exit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function should be called on exit by 'kb_init' and free all memory used in this module.<p>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>Never call this function ! </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00123">123</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__symbol_8c-source.html#l00067">kb_destroy_symbol_table()</a>.</p>

<p>Referenced by <a class="el" href="kb__init_8c-source.html#l00074">kb_exit()</a>, and <a class="el" href="kb__test_8c-source.html#l00015">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_926246be81a30dc96c00c5894ee89eda_cgraph.png" border="0" usemap="#kb__config_8c_926246be81a30dc96c00c5894ee89eda_cgraph_map" alt=""></center>
<map name="kb__config_8c_926246be81a30dc96c00c5894ee89eda_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#d9f17597993089cfb72ae246d042b8d0" title="kb_destroy_symbol_table" alt="" coords="161,6,329,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="37d877a60e61f05a022144e615073a24"></a><!-- doxytag: member="kb_config.c::kb_config_init" ref="37d877a60e61f05a022144e615073a24" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kb_config_init           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function initializes the configuration tables and variables<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Number of element in the array of arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>Array of string containing all arguments </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code<ul>
<li>&lt;0 error code</li><li>0 no error </li></ul>
</dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00078">78</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__config_8h-source.html#l00018">KB_CONFIG_DIR_INTERNAL</a>, <a class="el" href="kb__symbol_8c-source.html#l00042">kb_create_symbol_table()</a>, <a class="el" href="kb__config_8c-source.html#l00836">kb_parse_config_file()</a>, <a class="el" href="kb__error_8h-source.html#l00091">KB_WARN_CONFIG_FILE</a>, <a class="el" href="kb__error_8h-source.html#l00092">KB_WARN_OPENDIR</a>, and <a class="el" href="kb__error_8c-source.html#l00335">kb_warning()</a>.</p>

<p>Referenced by <a class="el" href="kb__init_8c-source.html#l00025">kb_init()</a>, and <a class="el" href="kb__test_8c-source.html#l00015">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_37d877a60e61f05a022144e615073a24_cgraph.png" border="0" usemap="#kb__config_8c_37d877a60e61f05a022144e615073a24_cgraph_map" alt=""></center>
<map name="kb__config_8c_37d877a60e61f05a022144e615073a24_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#585b69e2d195df5cd53c58d57b6453d2" title="kb_create_symbol_table" alt="" coords="155,56,317,80"><area shape="rect" href="kb__config_8c.html#eae8d52f8fbbb3f6f4f4b6c2fc39aaf0" title="kb_parse_config_file" alt="" coords="167,104,305,128"><area shape="rect" href="kb__error_8c.html#0f83c793a43fabfda5685be6bc7615f2" title="kb_warning" alt="" coords="193,176,279,200"><area shape="rect" href="kb__config_8c.html#8cce096c96023cdf8eb1c086bd2210b5" title="kb_config_error" alt="" coords="559,5,668,29"><area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="580,54,647,78"><area shape="rect" href="kb__cmdparser_8c.html#148aa3c18794894d8cdd0a88dd04b814" title="kb_parse_command" alt="" coords="368,104,507,128"><area shape="rect" href="kb__error_8c.html#72bbee6ffcb1c8be063966d128fe3a0a" title="kb_set_error_handler" alt="" coords="367,152,508,176"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="719,30,793,54"><area shape="rect" href="kb__error_8c.html#6b59343a29eb6d19b3fd454186e6e5cd" title="kb_vwarning" alt="" coords="391,200,484,224"></map>
</div>

</div>
</div><p>
<a class="anchor" name="b67033aaa740979e3380c128d6d76ed4"></a><!-- doxytag: member="kb_config.c::kb_enum_alias" ref="b67033aaa740979e3380c128d6d76ed4" args="(const char *section_name, int(*func)(const char *name, kb_alias_config_t *alias, void *context), void *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kb_enum_alias           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>section_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const char *name, <a class="el" href="structkb__alias__config__s.html">kb_alias_config_t</a> *alias, void *context)&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function enumerates all aliases of a given section.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>section_name</em>&nbsp;</td><td>A string containing the name of the section </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>A function called for each alias found. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>A Pointer or a value passed as parameter to function 'func'. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>&gt;= number of aliases in a given section </li></ul>
</dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00934">934</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__config_8h-source.html#l00066">kb_section_config_s::alias_count</a>, <a class="el" href="kb__config_8h-source.html#l00069">kb_section_config_s::aliases</a>, <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00018">KB_SYMBOL_TYPE_SECTION</a>, <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>, <a class="el" href="kb__config_8h-source.html#l00123">kb_alias_config_s::next</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_b67033aaa740979e3380c128d6d76ed4_cgraph.png" border="0" usemap="#kb__config_8c_b67033aaa740979e3380c128d6d76ed4_cgraph_map" alt=""></center>
<map name="kb__config_8c_b67033aaa740979e3380c128d6d76ed4_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="164,6,292,30"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="343,6,412,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="2992e68691eb7ec02bbf2c2728b5b969"></a><!-- doxytag: member="kb_config.c::kb_enum_device" ref="2992e68691eb7ec02bbf2c2728b5b969" args="(const char *section_name, int(*func)(const char *name, kb_device_config_t *device, void *context), void *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kb_enum_device           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>section_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const char *name, <a class="el" href="structkb__device__config__s.html">kb_device_config_t</a> *device, void *context)&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function enumerates all devices of a given section.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>section_name</em>&nbsp;</td><td>A string containing the name of the section </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>A function called for each device found. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>A Pointer or a value passed as parameter to function 'func'. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>&gt;= number of devices in a given section </li></ul>
</dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00985">985</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__config_8h-source.html#l00054">kb_section_config_s::device_count</a>, <a class="el" href="kb__config_8h-source.html#l00057">kb_section_config_s::devices</a>, <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00018">KB_SYMBOL_TYPE_SECTION</a>, <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>, <a class="el" href="kb__config_8h-source.html#l00091">kb_device_config_s::next</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>Referenced by <a class="el" href="kb__config__test_8c-source.html#l00044">print_section()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_2992e68691eb7ec02bbf2c2728b5b969_cgraph.png" border="0" usemap="#kb__config_8c_2992e68691eb7ec02bbf2c2728b5b969_cgraph_map" alt=""></center>
<map name="kb__config_8c_2992e68691eb7ec02bbf2c2728b5b969_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="175,6,303,30"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="353,6,423,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7e7f72cccd4c5e11678e04eb9295fac0"></a><!-- doxytag: member="kb_config.c::kb_enum_register" ref="7e7f72cccd4c5e11678e04eb9295fac0" args="(const char *section_name, int(*func)(const char *name, kb_register_config_t *reg, void *context), void *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kb_enum_register           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>section_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const char *name, <a class="el" href="structkb__register__config__s.html">kb_register_config_t</a> *reg, void *context)&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function enumerate all registers of a given section<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>section_name</em>&nbsp;</td><td>A string containing the name of the section </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>A function called for each register found. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>A Pointer or a value passed as parameter to function 'func'. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>&gt;= number of registers in a given section </li></ul>
</dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l01035">1035</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00018">KB_SYMBOL_TYPE_SECTION</a>, <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>, <a class="el" href="kb__config_8h-source.html#l00107">kb_register_config_s::next</a>, <a class="el" href="kb__config_8h-source.html#l00060">kb_section_config_s::register_count</a>, <a class="el" href="kb__config_8h-source.html#l00063">kb_section_config_s::registers</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>Referenced by <a class="el" href="kb__config__test_8c-source.html#l00044">print_section()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_7e7f72cccd4c5e11678e04eb9295fac0_cgraph.png" border="0" usemap="#kb__config_8c_7e7f72cccd4c5e11678e04eb9295fac0_cgraph_map" alt=""></center>
<map name="kb__config_8c_7e7f72cccd4c5e11678e04eb9295fac0_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="180,6,308,30"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="359,6,428,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ae6f1bf4b9bf00062a1ff6eab4146ee2"></a><!-- doxytag: member="kb_config.c::kb_enum_section" ref="ae6f1bf4b9bf00062a1ff6eab4146ee2" args="(int(*func)(const char *name, kb_section_config_t *section, void *context), void *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kb_enum_section           </td>
          <td>(</td>
          <td class="paramtype">int(*)(const char *name, <a class="el" href="structkb__section__config__s.html">kb_section_config_t</a> *section, void *context)&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function enumerates all sections.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>A Pointer to a function called for each section found. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>A Pointer or a value passed as parameter to the function 'func' </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>&gt;=0 the number of sections </li></ul>
</dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00897">897</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>, <a class="el" href="kb__config_8h-source.html#l00072">kb_section_config_s::next</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>Referenced by <a class="el" href="kb__config__test_8c-source.html#l00055">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2b849be50ad017cde4f283c6973f20e9"></a><!-- doxytag: member="kb_config.c::kb_is_valid_identifier" ref="2b849be50ad017cde4f283c6973f20e9" args="(const char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kb_is_valid_identifier           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function checks if a string is a valid identifier. A valid identifier must begin with a letter of '_' and is followed by letters, digits or '_'. An identifier must be longer than 3 characters.<p>
letter ::= [A-Za-z_] digit ::= [0-9]<p>
identifier ::= letter ( letter | digit )*<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>Pointer to a string containing an identifier to check </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An error code:<ul>
<li>&lt;0 on error</li><li>0 the identifier is valid</li></ul>
</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is NOT exported outside this module. </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00221">221</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__error_8c-source.html#l00280">kb_error()</a>, and <a class="el" href="kb__error_8h-source.html#l00038">KB_ERROR_INVALID</a>.</p>

<p>Referenced by <a class="el" href="kb__config_8c-source.html#l00458">kb_parse_alias()</a>, <a class="el" href="kb__config_8c-source.html#l00535">kb_parse_device()</a>, <a class="el" href="kb__config_8c-source.html#l00766">kb_parse_register()</a>, and <a class="el" href="kb__config_8c-source.html#l00400">kb_parse_section()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_2b849be50ad017cde4f283c6973f20e9_cgraph.png" border="0" usemap="#kb__config_8c_2b849be50ad017cde4f283c6973f20e9_cgraph_map" alt=""></center>
<map name="kb__config_8c_2b849be50ad017cde4f283c6973f20e9_cgraph_map">
<area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="199,6,265,30"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="316,6,391,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="a7810b7e6d3887cdc2a80cf4a68b011d"></a><!-- doxytag: member="kb_config.c::kb_is_valid_ientifier" ref="a7810b7e6d3887cdc2a80cf4a68b011d" args="(const char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kb_is_valid_ientifier           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0b27917fe2598af359acfa8feb9cf919"></a><!-- doxytag: member="kb_config.c::kb_lookup_device" ref="0b27917fe2598af359acfa8feb9cf919" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkb__device__config__s.html">kb_device_config_t</a>* kb_lookup_device           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function try to find a device configuration descriptor given its name.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>A string containing the name of the device to find. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the device configuration descriptor or NULL if no device is found. </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00137">137</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00019">KB_SYMBOL_TYPE_ALIAS</a>, <a class="el" href="kb__symbol_8h-source.html#l00020">KB_SYMBOL_TYPE_DEVICE</a>, <a class="el" href="kb__config_8h-source.html#l00117">kb_alias_config_s::name</a>, <a class="el" href="kb__config_8h-source.html#l00120">kb_alias_config_s::ptr</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>Referenced by <a class="el" href="knet_8c-source.html#l00270">knet_open()</a>, and <a class="el" href="kb__test_8c-source.html#l00015">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_0b27917fe2598af359acfa8feb9cf919_cgraph.png" border="0" usemap="#kb__config_8c_0b27917fe2598af359acfa8feb9cf919_cgraph_map" alt=""></center>
<map name="kb__config_8c_0b27917fe2598af359acfa8feb9cf919_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="180,6,308,30"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="359,6,428,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="13601ca6cb2dc1d8185d21b302b4f495"></a><!-- doxytag: member="kb_config.c::kb_lookup_register" ref="13601ca6cb2dc1d8185d21b302b4f495" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkb__register__config__s.html">kb_register_config_t</a>* kb_lookup_register           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function try to find a register configuration descriptor given its name.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>A string containing the name of the register to find. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the register configuration descriptor or NULL if no register is found. </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00175">175</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00019">KB_SYMBOL_TYPE_ALIAS</a>, <a class="el" href="kb__symbol_8h-source.html#l00021">KB_SYMBOL_TYPE_REGISTER</a>, <a class="el" href="kb__config_8h-source.html#l00117">kb_alias_config_s::name</a>, <a class="el" href="kb__config_8h-source.html#l00120">kb_alias_config_s::ptr</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_13601ca6cb2dc1d8185d21b302b4f495_cgraph.png" border="0" usemap="#kb__config_8c_13601ca6cb2dc1d8185d21b302b4f495_cgraph_map" alt=""></center>
<map name="kb__config_8c_13601ca6cb2dc1d8185d21b302b4f495_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="185,6,313,30"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="364,6,433,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="1bf9c972ab6f95dce441937cb0efc1c2"></a><!-- doxytag: member="kb_config.c::kb_parse_alias" ref="1bf9c972ab6f95dce441937cb0efc1c2" args="(int argc, char *argv[], void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kb_parse_alias           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function parses a 'alias' command line in a configuration<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Number of arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>An array of strings that represents the list of token </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>0 'alias' already defined</li><li>1 on success</li></ul>
</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is NOT exported outside this module </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00458">458</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__config_8h-source.html#l00066">kb_section_config_s::alias_count</a>, <a class="el" href="kb__config_8h-source.html#l00069">kb_section_config_s::aliases</a>, <a class="el" href="kb__symbol_8h-source.html#l00036">kb_symbol_s::alloc</a>, <a class="el" href="kb__symbol_8c-source.html#l00128">kb_add_symbol()</a>, <a class="el" href="kb__memory_8h-source.html#l00019">KB_ALLOC</a>, <a class="el" href="kb__config_8c-source.html#l00263">kb_build_scoped_name()</a>, <a class="el" href="kb__error_8c-source.html#l00280">kb_error()</a>, <a class="el" href="kb__error_8h-source.html#l00055">KB_ERROR_NOSECTION</a>, <a class="el" href="kb__error_8h-source.html#l00039">KB_ERROR_SYMDEF</a>, <a class="el" href="kb__config_8c-source.html#l00221">kb_is_valid_identifier()</a>, <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00022">KB_SYMBOL_NAME_SIZE</a>, <a class="el" href="kb__symbol_8h-source.html#l00019">KB_SYMBOL_TYPE_ALIAS</a>, <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>, <a class="el" href="kb__config_8h-source.html#l00117">kb_alias_config_s::name</a>, <a class="el" href="kb__config_8h-source.html#l00123">kb_alias_config_s::next</a>, <a class="el" href="kb__symbol_8h-source.html#l00046">kb_symbol_s::next</a>, <a class="el" href="kb__config_8h-source.html#l00120">kb_alias_config_s::ptr</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_1bf9c972ab6f95dce441937cb0efc1c2_cgraph.png" border="0" usemap="#kb__config_8c_1bf9c972ab6f95dce441937cb0efc1c2_cgraph_map" alt=""></center>
<map name="kb__config_8c_1bf9c972ab6f95dce441937cb0efc1c2_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#a3a0fa181949c7702b8c4d3215e0e9d5" title="kb_add_symbol" alt="" coords="185,5,297,29"><area shape="rect" href="kb__config_8c.html#a3f5d9dde0c0ec4981d09d0d81d27dde" title="kb_build_scoped_name" alt="" coords="163,53,320,77"><area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="371,174,437,198"><area shape="rect" href="kb__config_8c.html#2b849be50ad017cde4f283c6973f20e9" title="kb_is_valid_identifier" alt="" coords="171,200,312,224"><area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="177,101,305,125"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="369,53,439,77"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="489,174,564,198"></map>
</div>

</div>
</div><p>
<a class="anchor" name="eae8d52f8fbbb3f6f4f4b6c2fc39aaf0"></a><!-- doxytag: member="kb_config.c::kb_parse_config_file" ref="eae8d52f8fbbb3f6f4f4b6c2fc39aaf0" args="(const char *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kb_parse_config_file           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function parses a configuration file, builds and stores configuration information in memory.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>configuration file to parse </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>0 on success </li></ul>
</dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00836">836</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="gpio__test_8c-source.html#l00223">buf</a>, <a class="el" href="kb__memory_8h-source.html#l00019">KB_ALLOC</a>, <a class="el" href="kb__config_8c-source.html#l00293">kb_config_error()</a>, <a class="el" href="kb__config_8c-source.html#l00065">kb_config_file</a>, <a class="el" href="kb__config_8c-source.html#l00066">kb_config_line</a>, <a class="el" href="kb__error_8c-source.html#l00280">kb_error()</a>, <a class="el" href="kb__error_8h-source.html#l00043">KB_ERROR_FILEOPEN</a>, <a class="el" href="kb__error_8h-source.html#l00037">KB_ERROR_UNKCMD</a>, <a class="el" href="kb__memory_8h-source.html#l00021">kb_free</a>, <a class="el" href="kb__cmdparser_8c-source.html#l00079">kb_parse_command()</a>, and <a class="el" href="kb__error_8c-source.html#l00137">kb_set_error_handler()</a>.</p>

<p>Referenced by <a class="el" href="kb__config_8c-source.html#l00078">kb_config_init()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_eae8d52f8fbbb3f6f4f4b6c2fc39aaf0_cgraph.png" border="0" usemap="#kb__config_8c_eae8d52f8fbbb3f6f4f4b6c2fc39aaf0_cgraph_map" alt=""></center>
<map name="kb__config_8c_eae8d52f8fbbb3f6f4f4b6c2fc39aaf0_cgraph_map">
<area shape="rect" href="kb__config_8c.html#8cce096c96023cdf8eb1c086bd2210b5" title="kb_config_error" alt="" coords="388,5,497,29"><area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="409,54,476,78"><area shape="rect" href="kb__cmdparser_8c.html#148aa3c18794894d8cdd0a88dd04b814" title="kb_parse_command" alt="" coords="197,104,336,128"><area shape="rect" href="kb__error_8c.html#72bbee6ffcb1c8be063966d128fe3a0a" title="kb_set_error_handler" alt="" coords="196,152,337,176"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="548,30,623,54"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7db7fe87ad095f7192b10c79a4f3899b"></a><!-- doxytag: member="kb_config.c::kb_parse_device" ref="7db7fe87ad095f7192b10c79a4f3899b" args="(int argc, char *argv[], void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kb_parse_device           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function parses a 'device' command line in a configuration<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Number of arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>An array of strings that represents the list of token </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>0 'device' already defined</li><li>1 on success</li></ul>
</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is NOT exported outside this module </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00535">535</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__config_8h-source.html#l00085">kb_device_config_s::address</a>, <a class="el" href="kb__symbol_8h-source.html#l00036">kb_symbol_s::alloc</a>, <a class="el" href="kb__config_8h-source.html#l00084">kb_device_config_s::defined</a>, <a class="el" href="kb__config_8c-source.html#l00058">device_class_names</a>, <a class="el" href="kb__config_8h-source.html#l00054">kb_section_config_s::device_count</a>, <a class="el" href="kb__config_8h-source.html#l00086">kb_device_config_s::device_name</a>, <a class="el" href="kb__config_8h-source.html#l00057">kb_section_config_s::devices</a>, <a class="el" href="kb__symbol_8c-source.html#l00128">kb_add_symbol()</a>, <a class="el" href="kb__memory_8h-source.html#l00019">KB_ALLOC</a>, <a class="el" href="kb__config_8c-source.html#l00263">kb_build_scoped_name()</a>, <a class="el" href="kb__config_8h-source.html#l00028">KB_DEVICE_CLASS_I2C</a>, <a class="el" href="kb__config_8h-source.html#l00034">KB_DEVICE_CLASS_MODULE</a>, <a class="el" href="kb__config_8h-source.html#l00037">KB_DEVICE_CLASS_RS232</a>, <a class="el" href="kb__config_8h-source.html#l00031">KB_DEVICE_CLASS_SPI</a>, <a class="el" href="kb__error_8c-source.html#l00280">kb_error()</a>, <a class="el" href="kb__error_8h-source.html#l00041">KB_ERROR_DEVCLASSUSED</a>, <a class="el" href="kb__error_8h-source.html#l00061">KB_ERROR_INVNAME</a>, <a class="el" href="kb__error_8h-source.html#l00042">KB_ERROR_INVNUM</a>, <a class="el" href="kb__error_8h-source.html#l00055">KB_ERROR_NOSECTION</a>, <a class="el" href="kb__error_8h-source.html#l00039">KB_ERROR_SYMDEF</a>, <a class="el" href="kb__error_8h-source.html#l00040">KB_ERROR_UNKDEVCLASS</a>, <a class="el" href="kb__cmdparser_8c-source.html#l00190">kb_find_string()</a>, <a class="el" href="kb__config_8c-source.html#l00221">kb_is_valid_identifier()</a>, <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00022">KB_SYMBOL_NAME_SIZE</a>, <a class="el" href="kb__symbol_8h-source.html#l00020">KB_SYMBOL_TYPE_DEVICE</a>, <a class="el" href="structkb__device__config__s.html#20134f03f8835e5b0a87d8cc6482f1d5">kb_device_config_s::kclass</a>, <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>, <a class="el" href="kb__symbol_8h-source.html#l00046">kb_symbol_s::next</a>, <a class="el" href="kb__config_8h-source.html#l00091">kb_device_config_s::next</a>, <a class="el" href="kb__config_8h-source.html#l00094">kb_device_config_s::section</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_7db7fe87ad095f7192b10c79a4f3899b_cgraph.png" border="0" usemap="#kb__config_8c_7db7fe87ad095f7192b10c79a4f3899b_cgraph_map" alt=""></center>
<map name="kb__config_8c_7db7fe87ad095f7192b10c79a4f3899b_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#a3a0fa181949c7702b8c4d3215e0e9d5" title="kb_add_symbol" alt="" coords="196,6,308,30"><area shape="rect" href="kb__config_8c.html#a3f5d9dde0c0ec4981d09d0d81d27dde" title="kb_build_scoped_name" alt="" coords="173,54,331,78"><area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="381,223,448,247"><area shape="rect" href="kb__cmdparser_8c.html#bcacd8fd0a751cab8ada87b833ab7ffa" title="kb_find_string" alt="" coords="201,150,303,174"><area shape="rect" href="kb__config_8c.html#2b849be50ad017cde4f283c6973f20e9" title="kb_is_valid_identifier" alt="" coords="181,198,323,222"><area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="188,102,316,126"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="380,54,449,78"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="500,223,575,247"></map>
</div>

</div>
</div><p>
<a class="anchor" name="1c324fac9a04e25ba28f4df0a943c329"></a><!-- doxytag: member="kb_config.c::kb_parse_modbus" ref="1c324fac9a04e25ba28f4df0a943c329" args="(int argc, char *argv[], void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kb_parse_modbus           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function parses a 'modulebus' command line in a configuration file. This will set the module bus for the current section. The module bus is used to access all the devices defined as 'module'.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Number of arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>An array of strings that represents the list of token </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>0 'section' already defined</li><li>1 on success</li></ul>
</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is NOT exported outside this module </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00321">321</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__error_8c-source.html#l00280">kb_error()</a>, <a class="el" href="kb__error_8h-source.html#l00055">KB_ERROR_NOSECTION</a>, <a class="el" href="kb__error_8h-source.html#l00058">KB_ERROR_UNKBUS</a>, <a class="el" href="kb__cmdparser_8c-source.html#l00190">kb_find_string()</a>, <a class="el" href="knet_8c-source.html#l00094">knet_bus_names</a>, <a class="el" href="kb__config_8h-source.html#l00048">kb_section_config_s::module_bus</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_1c324fac9a04e25ba28f4df0a943c329_cgraph.png" border="0" usemap="#kb__config_8c_1c324fac9a04e25ba28f4df0a943c329_cgraph_map" alt=""></center>
<map name="kb__config_8c_1c324fac9a04e25ba28f4df0a943c329_cgraph_map">
<area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="200,6,267,30"><area shape="rect" href="kb__cmdparser_8c.html#bcacd8fd0a751cab8ada87b833ab7ffa" title="kb_find_string" alt="" coords="183,54,284,78"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="335,6,409,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="de168df79043c3cf99d3ad5114823738"></a><!-- doxytag: member="kb_config.c::kb_parse_modbusaddr" ref="de168df79043c3cf99d3ad5114823738" args="(int argc, char *argv[], void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kb_parse_modbusaddr           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function parses a 'modbusaddr' command line in a configuration file. This will set the address for module bus of the current section. The module bus is used to access all the devices defined as 'module'.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Number of arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>An array of strings that represents the list of token </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>0 'section' already defined</li><li>1 on success</li></ul>
</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is NOT exported outside this module </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00367">367</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__error_8c-source.html#l00280">kb_error()</a>, <a class="el" href="kb__error_8h-source.html#l00055">KB_ERROR_NOSECTION</a>, <a class="el" href="kb__config_8h-source.html#l00051">kb_section_config_s::module_bus_addr</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_de168df79043c3cf99d3ad5114823738_cgraph.png" border="0" usemap="#kb__config_8c_de168df79043c3cf99d3ad5114823738_cgraph_map" alt=""></center>
<map name="kb__config_8c_de168df79043c3cf99d3ad5114823738_cgraph_map">
<area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="207,6,273,30"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="324,6,399,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="80b825867d566011f04c6b994422f7d8"></a><!-- doxytag: member="kb_config.c::kb_parse_register" ref="80b825867d566011f04c6b994422f7d8" args="(int argc, char *argv[], void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kb_parse_register           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function parses a 'register' command line in a configuration<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Number of arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>An array of strings that represents the list of token </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>0 'register' already defined</li><li>1 on success</li></ul>
</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is NOT exported outside this module </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00766">766</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__symbol_8h-source.html#l00036">kb_symbol_s::alloc</a>, <a class="el" href="kb__symbol_8c-source.html#l00128">kb_add_symbol()</a>, <a class="el" href="kb__memory_8h-source.html#l00019">KB_ALLOC</a>, <a class="el" href="kb__config_8c-source.html#l00263">kb_build_scoped_name()</a>, <a class="el" href="kb__error_8c-source.html#l00280">kb_error()</a>, <a class="el" href="kb__error_8h-source.html#l00042">KB_ERROR_INVNUM</a>, <a class="el" href="kb__error_8h-source.html#l00055">KB_ERROR_NOSECTION</a>, <a class="el" href="kb__error_8h-source.html#l00039">KB_ERROR_SYMDEF</a>, <a class="el" href="kb__config_8c-source.html#l00221">kb_is_valid_identifier()</a>, <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00021">KB_SYMBOL_TYPE_REGISTER</a>, <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>, <a class="el" href="kb__symbol_8h-source.html#l00046">kb_symbol_s::next</a>, <a class="el" href="kb__config_8h-source.html#l00107">kb_register_config_s::next</a>, <a class="el" href="kb__config_8h-source.html#l00060">kb_section_config_s::register_count</a>, <a class="el" href="kb__config_8h-source.html#l00063">kb_section_config_s::registers</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, <a class="el" href="kb__config_8h-source.html#l00104">kb_register_config_s::value</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_80b825867d566011f04c6b994422f7d8_cgraph.png" border="0" usemap="#kb__config_8c_80b825867d566011f04c6b994422f7d8_cgraph_map" alt=""></center>
<map name="kb__config_8c_80b825867d566011f04c6b994422f7d8_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#a3a0fa181949c7702b8c4d3215e0e9d5" title="kb_add_symbol" alt="" coords="201,5,313,29"><area shape="rect" href="kb__config_8c.html#a3f5d9dde0c0ec4981d09d0d81d27dde" title="kb_build_scoped_name" alt="" coords="179,53,336,77"><area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="387,174,453,198"><area shape="rect" href="kb__config_8c.html#2b849be50ad017cde4f283c6973f20e9" title="kb_is_valid_identifier" alt="" coords="187,200,328,224"><area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="193,101,321,125"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="385,53,455,77"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="505,174,580,198"></map>
</div>

</div>
</div><p>
<a class="anchor" name="1759b5f15f8f4f0a5bff1d8c9cc962d0"></a><!-- doxytag: member="kb_config.c::kb_parse_section" ref="1759b5f15f8f4f0a5bff1d8c9cc962d0" args="(int argc, char *argv[], void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kb_parse_section           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function parses a 'section' command line in a configuration<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Number of arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>An array of strings that represents the list of token </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an error code:<ul>
<li>&lt;0 on error</li><li>0 'section' already defined</li><li>1 on success</li></ul>
</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This function is NOT exported outside this module </dd></dl>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00400">400</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>References <a class="el" href="kb__symbol_8h-source.html#l00036">kb_symbol_s::alloc</a>, <a class="el" href="kb__config_8h-source.html#l00054">kb_section_config_s::device_count</a>, <a class="el" href="kb__config_8h-source.html#l00057">kb_section_config_s::devices</a>, <a class="el" href="kb__symbol_8c-source.html#l00128">kb_add_symbol()</a>, <a class="el" href="kb__memory_8h-source.html#l00019">KB_ALLOC</a>, <a class="el" href="kb__error_8c-source.html#l00280">kb_error()</a>, <a class="el" href="kb__error_8h-source.html#l00039">KB_ERROR_SYMDEF</a>, <a class="el" href="kb__config_8c-source.html#l00221">kb_is_valid_identifier()</a>, <a class="el" href="kb__symbol_8c-source.html#l00165">kb_lookup_symbol()</a>, <a class="el" href="kb__symbol_8h-source.html#l00018">KB_SYMBOL_TYPE_SECTION</a>, <a class="el" href="kb__config_8h-source.html#l00048">kb_section_config_s::module_bus</a>, <a class="el" href="kb__config_8h-source.html#l00051">kb_section_config_s::module_bus_addr</a>, <a class="el" href="kb__symbol_8h-source.html#l00031">kb_symbol_s::name</a>, <a class="el" href="kb__symbol_8h-source.html#l00046">kb_symbol_s::next</a>, <a class="el" href="kb__config_8h-source.html#l00072">kb_section_config_s::next</a>, <a class="el" href="kb__config_8h-source.html#l00060">kb_section_config_s::register_count</a>, <a class="el" href="kb__config_8h-source.html#l00063">kb_section_config_s::registers</a>, <a class="el" href="kb__symbol_8h-source.html#l00034">kb_symbol_s::type</a>, and <a class="el" href="kb__symbol_8h-source.html#l00043">kb_symbol_s::value</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="kb__config_8c_1759b5f15f8f4f0a5bff1d8c9cc962d0_cgraph.png" border="0" usemap="#kb__config_8c_1759b5f15f8f4f0a5bff1d8c9cc962d0_cgraph_map" alt=""></center>
<map name="kb__config_8c_1759b5f15f8f4f0a5bff1d8c9cc962d0_cgraph_map">
<area shape="rect" href="kb__symbol_8c.html#a3a0fa181949c7702b8c4d3215e0e9d5" title="kb_add_symbol" alt="" coords="195,5,307,29"><area shape="rect" href="kb__error_8c.html#9cb11fb40aba13d25f44b89cc71f5e67" title="kb_error" alt="" coords="373,126,440,150"><area shape="rect" href="kb__config_8c.html#2b849be50ad017cde4f283c6973f20e9" title="kb_is_valid_identifier" alt="" coords="180,152,321,176"><area shape="rect" href="kb__symbol_8c.html#989ba09ae1d926a9d3eaa411bc9e65bf" title="kb_lookup_symbol" alt="" coords="187,53,315,77"><area shape="rect" href="kb__symbol_8c.html#864a00bba783f35eafd2a7e05c8940ab" title="kb_hash" alt="" coords="372,29,441,53"><area shape="rect" href="kb__error_8c.html#3384c94e5877279d11bed633638184d5" title="kb_verror" alt="" coords="492,126,567,150"></map>
</div>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="d2c00eab0a2a6653dd72575ed231707a"></a><!-- doxytag: member="kb_config.c::device_class_names" ref="d2c00eab0a2a6653dd72575ed231707a" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="kb__config_8c.html#d2c00eab0a2a6653dd72575ed231707a">device_class_names</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> { 
    <span class="stringliteral">"i2c"</span> , <span class="stringliteral">"spi"</span> , <span class="stringliteral">"module"</span> , <span class="stringliteral">"rs232"</span> , NULL 
  }
</pre></div>List of existing device class names, as they should appear in configuration files. Knet bus names are defined in <a class="el" href="knet_8h.html">knet.h</a>. 
<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00058">58</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>Referenced by <a class="el" href="kb__config_8c-source.html#l00535">kb_parse_device()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7927d3e9d5132d3597d8f1c06bc2a63b"></a><!-- doxytag: member="kb_config.c::kb_config_cmds" ref="7927d3e9d5132d3597d8f1c06bc2a63b" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structkb__command__s.html">kb_command_s</a> <a class="el" href="kb__config_8c.html#7927d3e9d5132d3597d8f1c06bc2a63b">kb_config_cmds</a>[]<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
  { <span class="stringliteral">"section"</span>   , 1 , 1 , <a class="code" href="kb__config_8c.html#1759b5f15f8f4f0a5bff1d8c9cc962d0">kb_parse_section</a>   } ,
  { <span class="stringliteral">"modulebus"</span> , 1 , 1 , <a class="code" href="kb__config_8c.html#1c324fac9a04e25ba28f4df0a943c329">kb_parse_modbus</a>    } ,
  { <span class="stringliteral">"modbusaddr"</span>, 1 , 1 , <a class="code" href="kb__config_8c.html#de168df79043c3cf99d3ad5114823738">kb_parse_modbusaddr</a>} ,
  { <span class="stringliteral">"alias"</span>     , 1 , 1 , <a class="code" href="kb__config_8c.html#1bf9c972ab6f95dce441937cb0efc1c2">kb_parse_alias</a>     } ,
  { <span class="stringliteral">"device"</span>    , 3 , 3 , <a class="code" href="kb__config_8c.html#7db7fe87ad095f7192b10c79a4f3899b">kb_parse_device</a>    } ,
  { <span class="stringliteral">"register"</span>  , 2 , 2 , <a class="code" href="kb__config_8c.html#80b825867d566011f04c6b994422f7d8">kb_parse_register</a>  } ,
  { NULL        , 0 , 0 , NULL               }
}
</pre></div>
<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00043">43</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="592cdab7911944bba395c80e86e1fbfb"></a><!-- doxytag: member="kb_config.c::kb_config_file" ref="592cdab7911944bba395c80e86e1fbfb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="kb__config_8c.html#592cdab7911944bba395c80e86e1fbfb">kb_config_file</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00065">65</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>Referenced by <a class="el" href="kb__config_8c-source.html#l00293">kb_config_error()</a>, and <a class="el" href="kb__config_8c-source.html#l00836">kb_parse_config_file()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bacd0289c2ad50c270429cbc01e1c3a4"></a><!-- doxytag: member="kb_config.c::kb_config_line" ref="bacd0289c2ad50c270429cbc01e1c3a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="kb__config_8c.html#bacd0289c2ad50c270429cbc01e1c3a4">kb_config_line</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00066">66</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

<p>Referenced by <a class="el" href="kb__config_8c-source.html#l00293">kb_config_error()</a>, and <a class="el" href="kb__config_8c-source.html#l00836">kb_parse_config_file()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d4336a3cda0cafb279407fea044528f8"></a><!-- doxytag: member="kb_config.c::kb_config_scope" ref="d4336a3cda0cafb279407fea044528f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkb__symbol__s.html">kb_symbol_t</a>* <a class="el" href="kb__config_8c.html#d4336a3cda0cafb279407fea044528f8">kb_config_scope</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00064">64</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="47d801e69c80eea303b0f194d02aaa4e"></a><!-- doxytag: member="kb_config.c::kb_config_table" ref="47d801e69c80eea303b0f194d02aaa4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkb__table__s.html">kb_symbol_table_t</a> <a class="el" href="kb__config_8c.html#47d801e69c80eea303b0f194d02aaa4e">kb_config_table</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00062">62</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="b7edb82782cdffe999f621162bb2684b"></a><!-- doxytag: member="kb_config.c::kb_sections" ref="b7edb82782cdffe999f621162bb2684b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkb__symbol__s.html">kb_symbol_t</a>* <a class="el" href="kb__config_8c.html#b7edb82782cdffe999f621162bb2684b">kb_sections</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kb__config_8c-source.html#l00063">63</a> of file <a class="el" href="kb__config_8c-source.html">kb_config.c</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 15 11:49:27 2010 for KoreBot Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
